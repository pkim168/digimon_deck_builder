(this.webpackJsonpdigimon_deck_builder=this.webpackJsonpdigimon_deck_builder||[]).push([[0],{123:function(e,a,t){e.exports=t.p+"static/media/spinner.8f2beb27.png"},128:function(e,a,t){e.exports=t(305)},133:function(e,a,t){},134:function(e,a,t){},20:function(e,a,t){e.exports=t.p+"static/media/card-back.9a6335d4.jpg"},305:function(e,a,t){"use strict";t.r(a);var c=t(0),r=t.n(c),l=t(41),n=t.n(l),o=(t(133),t(3)),s=(t(134),t(10),t(9),t(123)),d=t.n(s);var i=function(e){return r.a.createElement("nav",{className:"navbar navbar-expand-sm navbar-light bg-light py-3 shadow-sm fixed-bottom justify-content-between"},r.a.createElement("a",{className:"navbar-brand",href:"/#"}," Admin Panel "),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNavDropdown","aria-controls":"navbarNavDropdown","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarNavDropdown"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},r.a.createElement("a",{className:"nav-link",href:"/#",onClick:function(a){a.preventDefault(),e.service.Post("/cards/update","",(function(e){alert("Update Finished")}),(function(e){alert(e)}))}}," Update Card Database "))))},m=t(307),u=t(308),p=t(309),E=t(124),g=t(310),f=t(311);var v=function(e){var a=Object(c.useState)(),t=Object(o.a)(a,2),l=t[0],n=t[1],s=Object(c.useState)(),d=Object(o.a)(s,2),i=d[0],v=d[1],N=Object(c.useState)(),k=Object(o.a)(N,2),b=k[0],y=k[1],h=Object(c.useState)(!1),w=Object(o.a)(h,2),C=w[0],x=w[1],I=Object(c.useCallback)((function(a){e.service.Get("/cards/power",{},(function(e){if(a){var t=e.sort().map((function(e){return r.a.createElement("option",{key:"power"+e,value:e},e)}));n(t)}}),(function(e){console.log(e),n("")})),a&&(e.service.Get("/cards/sets",{},(function(e){if(a){var t=e.sort().map((function(e){return r.a.createElement("option",{key:"set"+e,value:e},e)}));v(t)}}),(function(e){console.log(e),v("")})),a&&e.service.Get("/cards/types",{},(function(e){if(a){var t=e.sort().map((function(e){return r.a.createElement("option",{key:"type"+e,value:e},e)}));y(t)}}),(function(e){console.log(e),y("")})))}),[e.service]);return Object(c.useEffect)((function(){var e=!0;return e&&I(e),function(){return e=!1}}),[I]),r.a.createElement("div",{className:"FilterMenu w-100"},r.a.createElement(m.a,{className:"px-4 py-3",id:"filter",onSubmit:function(a){a.preventDefault(),function(){var a=document.getElementById("searchInput").value.trim(),t=document.getElementById("attributeSelect").value;"default"===t&&(t="");var c=document.getElementById("cardLevelSelect").value;"default"===c&&(c="");var r=document.getElementById("cardNameInput").value.trim(),l=document.getElementById("cardTypeSelect").value;"default"===l&&(l="");var n=document.getElementById("colorSelect").value;"default"===n&&(n="");var o=document.getElementById("costSelect").value;"default"===o&&(o="");var s=document.getElementById("digivolveSelect").value;"default"===s&&(s="");var d=document.getElementById("formSelect").value;"default"===d&&(d="");var i=document.getElementById("playEffectInput").value.trim(),m=document.getElementById("powerSelect").value;"default"===m&&(m="");var u=document.getElementById("securityEffectInput").value.trim(),p=document.getElementById("setSelect").value;"default"===p&&(p="");var E=document.getElementById("typeSelect").value;"default"===E&&(E="");var g=[];if(!(a||t||c||r||l||n||o||s||d||i||m||u||p||E))return g=JSON.parse(sessionStorage.getItem("cardData")).data,e.setCards(g),e.setPages(Math.ceil(g.length/e.cardsPerPage)),void e.setPage(1);g=JSON.parse(sessionStorage.getItem("cardData")).data.filter((function(e){var g=!0;return a&&(g=g&&e.fullText.toLowerCase().indexOf(a.toLowerCase())>-1),t&&(g=g&&e.attribute===t),c&&(g=g&&e.cardLv===c),r&&(g=g&&e.cardName.toLowerCase().indexOf(r.toLowerCase())>-1),l&&(g=g&&e.cardType===l),n&&(g=g&&e.cardColor===n),o&&(g=g&&e.playCost===o),s&&(g=g&&(e.digivolve1Cost===s||e.digivolve2Cost===s)),d&&(g=g&&e.form===d),i&&(g=g&&e.effect.toLowerCase().indexOf(i.toLowerCase())>-1),m&&(g=g&&e.digiPower===m),u&&(g=g&&e.securityEffect.toLowerCase().indexOf(u.toLowerCase())>-1),p&&(g=g&&e.setId===p),E&&(g=g&&e.type===E),g})),e.setCards(g.sort(e.sortCards())),e.setPages(Math.ceil(g.length/e.cardsPerPage)),e.setPage(1)}()}},r.a.createElement("div",{className:"form-row d-flex"},r.a.createElement("div",{className:"form-group-filter-element w-100"},r.a.createElement("div",{className:"form-group"},r.a.createElement(u.a,null,r.a.createElement(p.a,{addonType:"prepend"},r.a.createElement(E.a,null," All Text ")),r.a.createElement(g.a,{placeholder:"Search Card Text",id:"searchInput"}),r.a.createElement(p.a,{addonType:"append"},r.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){x(!C)}},"Show more filters")))))),r.a.createElement(f.a,{isOpen:C},r.a.createElement("div",{className:"d-flex form-row flex-wrap justify-content-left"},r.a.createElement("div",{className:"form-group-filter-element"},r.a.createElement("div",{className:"form-group"},r.a.createElement(u.a,null,r.a.createElement(p.a,{addonType:"prepend",sm:"4"},r.a.createElement(E.a,null," Attribute ")),r.a.createElement(g.a,{type:"select",name:"attributeSelect",sm:"8",id:"attributeSelect",defaultValue:"default"},r.a.createElement("option",{value:"default"}," -Attribute- "),r.a.createElement("option",{value:"-"}," - "),r.a.createElement("option",{value:"Data"}," Data "),r.a.createElement("option",{value:"Free"}," Free "),r.a.createElement("option",{value:"Unknown"}," Unknown "),r.a.createElement("option",{value:"Vaccine"}," Vaccine "))))),r.a.createElement("div",{className:"form-group-filter-element"},r.a.createElement("div",{className:"form-group"},r.a.createElement(u.a,null,r.a.createElement(p.a,{addonType:"prepend"},r.a.createElement(E.a,null," Card Level ")),r.a.createElement(g.a,{type:"select",name:"cardLevelSelect",sm:"8",id:"cardLevelSelect",defaultValue:"default"},r.a.createElement("option",{value:"default"}," -Card Level- "),r.a.createElement("option",{value:"-"}," - "),r.a.createElement("option",{value:"1"}," 1 "),r.a.createElement("option",{value:"2"}," 2 "),r.a.createElement("option",{value:"3"}," 3 "),r.a.createElement("option",{value:"4"}," 4 "),r.a.createElement("option",{value:"5"}," 5 "),r.a.createElement("option",{value:"6"}," 6 "),r.a.createElement("option",{value:"7"}," 7 "))))),r.a.createElement("div",{className:"form-group-filter-element"},r.a.createElement("div",{className:"form-group"},r.a.createElement(u.a,null,r.a.createElement(p.a,{addonType:"prepend"},r.a.createElement(E.a,null," Card Name ")),r.a.createElement(g.a,{name:"cardNameInput",sm:"8",id:"cardNameInput",placeholder:"-Card Name-"})))),r.a.createElement("div",{className:"form-group-filter-element"},r.a.createElement("div",{className:"form-group"},r.a.createElement(u.a,null,r.a.createElement(p.a,{addonType:"prepend"},r.a.createElement(E.a,null," Card Type ")),r.a.createElement(g.a,{type:"select",name:"cardTypeSelect",sm:"8",id:"cardTypeSelect",defaultValue:"default"},r.a.createElement("option",{value:"default"}," -Card Type- "),r.a.createElement("option",{value:"Digi-Egg"}," Digi-Egg "),r.a.createElement("option",{value:"Digimon"}," Digimon "),r.a.createElement("option",{value:"Option"}," Option "),r.a.createElement("option",{value:"Tamer"}," Tamer "))))),r.a.createElement("div",{className:"form-group-filter-element"},r.a.createElement("div",{className:"form-group"},r.a.createElement(u.a,null,r.a.createElement(p.a,{addonType:"prepend"},r.a.createElement(E.a,null," Color ")),r.a.createElement(g.a,{type:"select",name:"colorSelect",sm:"8",id:"colorSelect",defaultValue:"default"},r.a.createElement("option",{value:"default"}," -Color- "),r.a.createElement("option",{value:"Black"}," Black "),r.a.createElement("option",{value:"Blue"}," Blue "),r.a.createElement("option",{value:"Green"}," Green "),r.a.createElement("option",{value:"Purple"}," Purple "),r.a.createElement("option",{value:"Red"}," Red "),r.a.createElement("option",{value:"White"}," White "),r.a.createElement("option",{value:"Yellow"}," Yellow "))))),r.a.createElement("div",{className:"form-group-filter-element"},r.a.createElement("div",{className:"form-group"},r.a.createElement(u.a,null,r.a.createElement(p.a,{addonType:"prepend"},r.a.createElement(E.a,null," Cost ")),r.a.createElement(g.a,{type:"select",name:"costSelect",sm:"8",id:"costSelect",defaultValue:"default"},r.a.createElement("option",{value:"default"}," -Cost- "),r.a.createElement("option",{value:"-"}," - "),r.a.createElement("option",{value:"1"}," 1 "),r.a.createElement("option",{value:"2"}," 2 "),r.a.createElement("option",{value:"3"}," 3 "),r.a.createElement("option",{value:"4"}," 4 "),r.a.createElement("option",{value:"5"}," 5 "),r.a.createElement("option",{value:"6"}," 6 "),r.a.createElement("option",{value:"7"}," 7 "),r.a.createElement("option",{value:"8"}," 8 "),r.a.createElement("option",{value:"9"}," 9 "),r.a.createElement("option",{value:"10"}," 10 "),r.a.createElement("option",{value:"11"}," 11 "),r.a.createElement("option",{value:"12"}," 12 "),r.a.createElement("option",{value:"13"}," 13 "),r.a.createElement("option",{value:"14"}," 14 "),r.a.createElement("option",{value:"15"}," 15 "))))),r.a.createElement("div",{className:"form-group-filter-element"},r.a.createElement("div",{className:"form-group"},r.a.createElement(u.a,null,r.a.createElement(p.a,{addonType:"prepend"},r.a.createElement(E.a,null," Digivolve Cost ")),r.a.createElement(g.a,{type:"select",name:"digivolveSelect",sm:"8",id:"digivolveSelect",defaultValue:"default"},r.a.createElement("option",{value:"default"}," -Digivolve Cost- "),r.a.createElement("option",{value:"-"}," - "),r.a.createElement("option",{value:"1"}," 1 "),r.a.createElement("option",{value:"2"}," 2 "),r.a.createElement("option",{value:"3"}," 3 "),r.a.createElement("option",{value:"4"}," 4 "),r.a.createElement("option",{value:"5"}," 5 "),r.a.createElement("option",{value:"6"}," 6 "))))),r.a.createElement("div",{className:"form-group-filter-element"},r.a.createElement("div",{className:"form-group"},r.a.createElement(u.a,null,r.a.createElement(p.a,{addonType:"prepend"},r.a.createElement(E.a,null," Form ")),r.a.createElement(g.a,{type:"select",name:"formSelect",sm:"8",id:"formSelect",defaultValue:"default"},r.a.createElement("option",{value:"default"}," -Form- "),r.a.createElement("option",{value:"-"}," - "),r.a.createElement("option",{value:"In-Training"}," In-Training "),r.a.createElement("option",{value:"Rookie"}," Rookie "),r.a.createElement("option",{value:"Champion"}," Champion "),r.a.createElement("option",{value:"Ultimate"}," Ultimate "),r.a.createElement("option",{value:"Mega"}," Mega "))))),r.a.createElement("div",{className:"form-group-filter-element"},r.a.createElement("div",{className:"form-group"},r.a.createElement(u.a,null,r.a.createElement(p.a,{addonType:"prepend"},r.a.createElement(E.a,null," Effect ")),r.a.createElement(g.a,{name:"playEffectInput",sm:"8",id:"playEffectInput",placeholder:"-Effect-"})))),r.a.createElement("div",{className:"form-group-filter-element"},r.a.createElement("div",{className:"form-group"},r.a.createElement(u.a,null,r.a.createElement(p.a,{addonType:"prepend",sm:"4"},r.a.createElement(E.a,null," Power ")),r.a.createElement(g.a,{type:"select",name:"powerSelect",sm:"8",id:"powerSelect",defaultValue:"default"},r.a.createElement("option",{value:"default"}," -Power- "),l)))),r.a.createElement("div",{className:"form-group-filter-element"},r.a.createElement("div",{className:"form-group"},r.a.createElement(u.a,null,r.a.createElement(p.a,{addonType:"prepend"},r.a.createElement(E.a,null," Security Effect ")),r.a.createElement(g.a,{name:"securityEffectInput",sm:"8",id:"securityEffectInput",placeholder:"-Security Effect-"})))),r.a.createElement("div",{className:"form-group-filter-element"},r.a.createElement("div",{className:"form-group"},r.a.createElement(u.a,null,r.a.createElement(p.a,{addonType:"prepend"},r.a.createElement(E.a,null," Set ")),r.a.createElement(g.a,{type:"select",name:"setSelect",sm:"8",id:"setSelect",defaultValue:"default"},r.a.createElement("option",{value:"default"}," -Set- "),i)))),r.a.createElement("div",{className:"form-group-filter-element"},r.a.createElement("div",{className:"form-group"},r.a.createElement(u.a,null,r.a.createElement(p.a,{addonType:"prepend"},r.a.createElement(E.a,null," Type ")),r.a.createElement(g.a,{type:"select",name:"typeSelect",sm:"8",id:"typeSelect",defaultValue:"default"},r.a.createElement("option",{value:"default"}," -Type- "),b)))))),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"btn-group w-100",role:"group"},r.a.createElement("button",{style:{marginLeft:".5rem"},type:"button",className:"btn w-50 btn-danger",onClick:function(){document.getElementById("searchInput").value="",document.getElementById("attributeSelect").value="default",document.getElementById("cardLevelSelect").value="default",document.getElementById("cardNameInput").value="",document.getElementById("cardTypeSelect").value="default",document.getElementById("colorSelect").value="default",document.getElementById("costSelect").value="default",document.getElementById("digivolveSelect").value="default",document.getElementById("formSelect").value="default",document.getElementById("playEffectInput").value="",document.getElementById("powerSelect").value="default",document.getElementById("securityEffectInput").value="",document.getElementById("setSelect").value="default",document.getElementById("typeSelect").value="default"}},"Clear"),r.a.createElement("button",{style:{marginRight:".5rem"},type:"submit",className:"btn w-50 btn-success"},"Filter")))))},N=t(28),k=t.n(N);function b(e){return r.a.createElement(r.a.Fragment,null,e.cards.slice(e.cardsPerPage*(e.page-1),e.cards.length<e.cardsPerPage*e.page?e.cards.length:e.cardsPerPage*e.page).map((function(e){return r.a.createElement("div",{className:"card-container col-lg-4 col-md-6 col-sm-12",key:e+e.cardNo},r.a.createElement("div",{className:"card text-left",key:e.cardNo},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-5"},r.a.createElement("a",{href:"/#",id:e.cardNo+"link"},r.a.createElement("img",{src:e.src,className:"card-img",alt:"..."}))),r.a.createElement("div",{className:"col-7"},r.a.createElement("div",{className:"card-header"},e.cardNo+" "+e.cardName),r.a.createElement("div",{className:"card-body cards-body"},r.a.createElement("p",{className:"card-text"},"Card Color: "+e.cardColor),r.a.createElement("p",{className:"card-text"},"Card Type: "+e.cardType),r.a.createElement("p",{className:"card-text"},"Card Rarity: "+e.cardRarity),r.a.createElement("p",{className:"card-text"},"Effect: "+e.effect),r.a.createElement("p",{className:"card-text"},"Inherited Effect: "+e.digivolveEffect),r.a.createElement("p",{className:"card-text"},"Security Effect: "+e.securityEffect))))))})))}var y=function(e){return r.a.createElement("div",{className:"cards"},r.a.createElement("div",{className:"row justify-content-center align-items-center pagination-top"},r.a.createElement(k.a,{previousLabel:"previous",nextLabel:"next",breakLabel:"...",breakClassName:"page-item disabled",breakLinkClassName:"page-link",pageCount:e.pages,marginPagesDisplayed:1,pageRangeDisplayed:3,onPageChange:function(a){e.setPage(a.selected+1)},containerClassName:"pagination",pageClassName:"page-item",forcePage:e.page-1,pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",activeClassName:"active"})),r.a.createElement("div",{className:"row d-flex card-list-container"},r.a.createElement(b,{cards:e.cards,page:e.page,cardsInRow:e.cardsInRow,cardsPerPage:e.cardsPerPage,rowsPerPage:e.rowsPerPage})))};var h=function(e){var a=Object(c.useState)([]),t=Object(o.a)(a,2),l=t[0],n=t[1],s=Object(c.useState)(1),d=Object(o.a)(s,2),i=d[0],m=d[1],u=Object(c.useState)(1),p=Object(o.a)(u,2),E=p[0],g=p[1],f=e.setDisplay,N=Math.floor(4);function k(){return function(e,a){return e.cardNo>a.cardNo?1:-1}}var b=Object(c.useCallback)((function(a){var t=Date.now();if(null==sessionStorage.getItem("cardData"))e.service.Get("/cards/",{},(function(e){if(a){var t={created:Date.now(),data:e};sessionStorage.setItem("cardData",JSON.stringify(t));var c=JSON.parse(sessionStorage.getItem("cardData")).data;n(c.sort((function(e,a){return e.cardNo>a.cardNo?1:-1}))),m(Math.ceil(c.length/12)),f("none")}}),(function(e){f("none"),console.log(e)}));else if(t-JSON.parse(sessionStorage.getItem("cardData")).created>=432e5)e.service.Get("/cards/",{},(function(e){if(a){var t={created:Date.now(),data:e};sessionStorage.setItem("cardData",JSON.stringify(t));var c=JSON.parse(sessionStorage.getItem("cardData")).data;n(c.sort((function(e,a){return e.cardNo>a.cardNo?1:-1}))),m(Math.ceil(c.length/12)),f("none")}}),(function(e){f("none"),console.log(e)}));else if(a){var c=JSON.parse(sessionStorage.getItem("cardData")).data;n(c.sort((function(e,a){return e.cardNo>a.cardNo?1:-1}))),m(Math.ceil(c.length/12)),f("none")}}),[e.service,12,f]);return Object(c.useEffect)((function(){var e=!0;return e&&b(e),function(){return e=!1}}),[b]),r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row flex-nowrap"},r.a.createElement("div",{className:"col cards-filter-container"},r.a.createElement("div",{className:"filterWrapper-top row flex"},r.a.createElement(v,{sortCards:k,service:e.service,setCards:n,setPages:m,setPage:g,cardsInRow:3,cardsPerPage:12,rowsPerPage:N})),r.a.createElement("div",{className:"cardsWrapper"},r.a.createElement(y,{service:e.service,cards:l,pages:i,page:E,setPage:g,cardsInRow:3,cardsPerPage:12,rowsPerPage:N})))))},w=t(19);var C=function(e){var a=Object(w.g)(),t=e.setPageName;return Object(c.useEffect)((function(){t("Admin Dashboard"),e.loaded&&"admin"!==e.userDetails.role&&a.push("/")}),[e.loaded,e.userDetails,a,t]),r.a.createElement("div",null,r.a.createElement(i,{service:e.service}),r.a.createElement(h,Object.assign({},e,{service:e.service})))};var x=function(e){var a=Object(c.useState)(),t=Object(o.a)(a,2),l=t[0],n=t[1],s=Object(c.useState)(),d=Object(o.a)(s,2),i=d[0],v=d[1],N=Object(c.useState)(),k=Object(o.a)(N,2),b=k[0],y=k[1],h=Object(c.useState)(!1),w=Object(o.a)(h,2),C=w[0],x=w[1],I=Object(c.useCallback)((function(a){e.service.Get("/cards/power",{},(function(e){if(a){var t=e.sort().map((function(e){return r.a.createElement("option",{key:"power"+e,value:e},e)}));n(t)}}),(function(e){console.log(e),n("")})),a&&(e.service.Get("/cards/sets",{},(function(e){if(a){var t=e.sort().map((function(e){return r.a.createElement("option",{key:"set"+e,value:e},e)}));v(t)}}),(function(e){console.log(e),v("")})),a&&e.service.Get("/cards/types",{},(function(e){if(a){var t=e.sort().map((function(e){return r.a.createElement("option",{key:"type"+e,value:e},e)}));y(t)}}),(function(e){console.log(e),y("")})))}),[e.service]);return Object(c.useEffect)((function(){var e=!0;return e&&I(e),function(){return e=!1}}),[I]),r.a.createElement("div",{className:"FilterMenu w-100"},r.a.createElement(m.a,{className:"px-4 py-3",id:"filter",onSubmit:function(a){a.preventDefault(),e.setPage(1),function(){var a=document.getElementById("searchInput").value.trim(),t=document.getElementById("attributeSelect").value;"default"===t&&(t="");var c=document.getElementById("cardLevelSelect").value;"default"===c&&(c="");var r=document.getElementById("cardNameInput").value.trim(),l=document.getElementById("cardTypeSelect").value;"default"===l&&(l="");var n=document.getElementById("colorSelect").value;"default"===n&&(n="");var o=document.getElementById("costSelect").value;"default"===o&&(o="");var s=document.getElementById("digivolveSelect").value;"default"===s&&(s="");var d=document.getElementById("formSelect").value;"default"===d&&(d="");var i=document.getElementById("playEffectInput").value.trim(),m=document.getElementById("powerSelect").value;"default"===m&&(m="");var u=document.getElementById("securityEffectInput").value.trim(),p=document.getElementById("setSelect").value;"default"===p&&(p="");var E=document.getElementById("typeSelect").value;"default"===E&&(E="");var g=document.getElementById("raritySelect").value;"default"===g&&(g="");var f=[];if(!(a||t||c||r||l||n||o||s||d||i||m||u||p||E||g))return f=JSON.parse(sessionStorage.getItem("cardData")).data,e.setCards(f),e.setPages(Math.ceil(f.length/e.cardsPerPage)),void e.setPage(1);f=JSON.parse(sessionStorage.getItem("cardData")).data.filter((function(e){var f=!0;return a&&(f=f&&e.fullText.toLowerCase().indexOf(a.toLowerCase())>-1),t&&(f=f&&e.attribute===t),c&&(f=f&&e.cardLv===c),r&&(f=f&&e.cardName.toLowerCase().indexOf(r.toLowerCase())>-1),l&&(f=f&&e.cardType===l),n&&(f=f&&e.cardColor===n),o&&(f=f&&e.playCost===o),s&&(f=f&&(e.digivolve1Cost===s||e.digivolve2Cost===s)),d&&(f=f&&e.form===d),i&&(f=f&&e.effect.toLowerCase().indexOf(i.toLowerCase())>-1),m&&(f=f&&e.digiPower===m),u&&(f=f&&e.securityEffect.toLowerCase().indexOf(u.toLowerCase())>-1),p&&(f=f&&e.setId===p),E&&(f=f&&e.type===E),g&&(f=f&&e.cardRarity===g),f})),e.setCards(f.sort(e.sortCards())),e.setPages(Math.ceil(f.length/e.cardsPerPage)),e.setPage(1)}()}},r.a.createElement("div",{className:"form-row d-flex"},r.a.createElement("div",{className:"form-group-filter-element w-100"},r.a.createElement("div",{className:"form-group"},r.a.createElement(u.a,null,r.a.createElement(p.a,{addonType:"prepend"},r.a.createElement(E.a,{className:"bg-dark text-white"}," All Text ")),r.a.createElement(g.a,{className:"bg-dark text-white",placeholder:"Search Card Text",id:"searchInput"}),r.a.createElement(p.a,{addonType:"append"},r.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){x(!C)}},"Show more filters")))))),r.a.createElement(f.a,{isOpen:C},r.a.createElement("div",{className:"d-flex form-row flex-wrap justify-content-left"},r.a.createElement("div",{className:"form-group-filter-element"},r.a.createElement("div",{className:"form-group"},r.a.createElement(u.a,null,r.a.createElement(p.a,{addonType:"prepend",sm:"4"},r.a.createElement(E.a,{className:"bg-dark text-white"}," Attribute ")),r.a.createElement(g.a,{className:"bg-dark text-white",type:"select",name:"attributeSelect",sm:"8",id:"attributeSelect",defaultValue:"default"},r.a.createElement("option",{value:"default"}," -Attribute- "),r.a.createElement("option",{value:"-"}," - "),r.a.createElement("option",{value:"Data"}," Data "),r.a.createElement("option",{value:"Free"}," Free "),r.a.createElement("option",{value:"Unknown"}," Unknown "),r.a.createElement("option",{value:"Vaccine"}," Vaccine "))))),r.a.createElement("div",{className:"form-group-filter-element"},r.a.createElement("div",{className:"form-group"},r.a.createElement(u.a,null,r.a.createElement(p.a,{addonType:"prepend"},r.a.createElement(E.a,{className:"bg-dark text-white"}," Card Level ")),r.a.createElement(g.a,{className:"bg-dark text-white",type:"select",name:"cardLevelSelect",sm:"8",id:"cardLevelSelect",defaultValue:"default"},r.a.createElement("option",{value:"default"}," -Card Level- "),r.a.createElement("option",{value:"-"}," - "),r.a.createElement("option",{value:"1"}," 1 "),r.a.createElement("option",{value:"2"}," 2 "),r.a.createElement("option",{value:"3"}," 3 "),r.a.createElement("option",{value:"4"}," 4 "),r.a.createElement("option",{value:"5"}," 5 "),r.a.createElement("option",{value:"6"}," 6 "),r.a.createElement("option",{value:"7"}," 7 "))))),r.a.createElement("div",{className:"form-group-filter-element"},r.a.createElement("div",{className:"form-group"},r.a.createElement(u.a,null,r.a.createElement(p.a,{addonType:"prepend"},r.a.createElement(E.a,{className:"bg-dark text-white"}," Card Name ")),r.a.createElement(g.a,{className:"bg-dark text-white",name:"cardNameInput",sm:"8",id:"cardNameInput",placeholder:"-Card Name-"})))),r.a.createElement("div",{className:"form-group-filter-element"},r.a.createElement("div",{className:"form-group"},r.a.createElement(u.a,null,r.a.createElement(p.a,{addonType:"prepend"},r.a.createElement(E.a,{className:"bg-dark text-white"}," Card Type ")),r.a.createElement(g.a,{className:"bg-dark text-white",type:"select",name:"cardTypeSelect",sm:"8",id:"cardTypeSelect",defaultValue:"default"},r.a.createElement("option",{value:"default"}," -Card Type- "),r.a.createElement("option",{value:"Digi-Egg"}," Digi-Egg "),r.a.createElement("option",{value:"Digimon"}," Digimon "),r.a.createElement("option",{value:"Option"}," Option "),r.a.createElement("option",{value:"Tamer"}," Tamer "))))),r.a.createElement("div",{className:"form-group-filter-element"},r.a.createElement("div",{className:"form-group"},r.a.createElement(u.a,null,r.a.createElement(p.a,{addonType:"prepend"},r.a.createElement(E.a,{className:"bg-dark text-white"}," Color ")),r.a.createElement(g.a,{className:"bg-dark text-white",type:"select",name:"colorSelect",sm:"8",id:"colorSelect",defaultValue:"default"},r.a.createElement("option",{value:"default"}," -Color- "),r.a.createElement("option",{value:"Black"}," Black "),r.a.createElement("option",{value:"Blue"}," Blue "),r.a.createElement("option",{value:"Green"}," Green "),r.a.createElement("option",{value:"Purple"}," Purple "),r.a.createElement("option",{value:"Red"}," Red "),r.a.createElement("option",{value:"White"}," White "),r.a.createElement("option",{value:"Yellow"}," Yellow "))))),r.a.createElement("div",{className:"form-group-filter-element"},r.a.createElement("div",{className:"form-group"},r.a.createElement(u.a,null,r.a.createElement(p.a,{addonType:"prepend"},r.a.createElement(E.a,{className:"bg-dark text-white"}," Cost ")),r.a.createElement(g.a,{className:"bg-dark text-white",type:"select",name:"costSelect",sm:"8",id:"costSelect",defaultValue:"default"},r.a.createElement("option",{value:"default"}," -Cost- "),r.a.createElement("option",{value:"-"}," - "),r.a.createElement("option",{value:"1"}," 1 "),r.a.createElement("option",{value:"2"}," 2 "),r.a.createElement("option",{value:"3"}," 3 "),r.a.createElement("option",{value:"4"}," 4 "),r.a.createElement("option",{value:"5"}," 5 "),r.a.createElement("option",{value:"6"}," 6 "),r.a.createElement("option",{value:"7"}," 7 "),r.a.createElement("option",{value:"8"}," 8 "),r.a.createElement("option",{value:"9"}," 9 "),r.a.createElement("option",{value:"10"}," 10 "),r.a.createElement("option",{value:"11"}," 11 "),r.a.createElement("option",{value:"12"}," 12 "),r.a.createElement("option",{value:"13"}," 13 "),r.a.createElement("option",{value:"14"}," 14 "),r.a.createElement("option",{value:"15"}," 15 "))))),r.a.createElement("div",{className:"form-group-filter-element"},r.a.createElement("div",{className:"form-group"},r.a.createElement(u.a,null,r.a.createElement(p.a,{addonType:"prepend"},r.a.createElement(E.a,{className:"bg-dark text-white"}," Digivolve Cost ")),r.a.createElement(g.a,{className:"bg-dark text-white",type:"select",name:"digivolveSelect",sm:"8",id:"digivolveSelect",defaultValue:"default"},r.a.createElement("option",{value:"default"}," -Digivolve Cost- "),r.a.createElement("option",{value:"-"}," - "),r.a.createElement("option",{value:"1"}," 1 "),r.a.createElement("option",{value:"2"}," 2 "),r.a.createElement("option",{value:"3"}," 3 "),r.a.createElement("option",{value:"4"}," 4 "),r.a.createElement("option",{value:"5"}," 5 "),r.a.createElement("option",{value:"6"}," 6 "))))),r.a.createElement("div",{className:"form-group-filter-element"},r.a.createElement("div",{className:"form-group"},r.a.createElement(u.a,null,r.a.createElement(p.a,{addonType:"prepend"},r.a.createElement(E.a,{className:"bg-dark text-white"}," Form ")),r.a.createElement(g.a,{className:"bg-dark text-white",type:"select",name:"formSelect",sm:"8",id:"formSelect",defaultValue:"default"},r.a.createElement("option",{value:"default"}," -Form- "),r.a.createElement("option",{value:"-"}," - "),r.a.createElement("option",{value:"In-Training"}," In-Training "),r.a.createElement("option",{value:"Rookie"}," Rookie "),r.a.createElement("option",{value:"Champion"}," Champion "),r.a.createElement("option",{value:"Ultimate"}," Ultimate "),r.a.createElement("option",{value:"Mega"}," Mega "))))),r.a.createElement("div",{className:"form-group-filter-element"},r.a.createElement("div",{className:"form-group"},r.a.createElement(u.a,null,r.a.createElement(p.a,{addonType:"prepend"},r.a.createElement(E.a,{className:"bg-dark text-white"}," Effect ")),r.a.createElement(g.a,{className:"bg-dark text-white",name:"playEffectInput",sm:"8",id:"playEffectInput",placeholder:"-Effect-"})))),r.a.createElement("div",{className:"form-group-filter-element"},r.a.createElement("div",{className:"form-group"},r.a.createElement(u.a,null,r.a.createElement(p.a,{addonType:"prepend",sm:"4"},r.a.createElement(E.a,{className:"bg-dark text-white"}," Power ")),r.a.createElement(g.a,{className:"bg-dark text-white",type:"select",name:"powerSelect",sm:"8",id:"powerSelect",defaultValue:"default"},r.a.createElement("option",{value:"default"}," -Power- "),l)))),r.a.createElement("div",{className:"form-group-filter-element"},r.a.createElement("div",{className:"form-group"},r.a.createElement(u.a,null,r.a.createElement(p.a,{addonType:"prepend"},r.a.createElement(E.a,{className:"bg-dark text-white"}," Rarity ")),r.a.createElement(g.a,{className:"bg-dark text-white",type:"select",name:"raritySelect",sm:"8",id:"raritySelect",defaultValue:"default"},r.a.createElement("option",{value:"default"}," -Rarity- "),r.a.createElement("option",{value:"C"}," Common "),r.a.createElement("option",{value:"U"}," Uncommon "),r.a.createElement("option",{value:"R"}," Rare "),r.a.createElement("option",{value:"SR"}," Super Rare "),r.a.createElement("option",{value:"SEC"}," Secret Rare "))))),r.a.createElement("div",{className:"form-group-filter-element"},r.a.createElement("div",{className:"form-group"},r.a.createElement(u.a,null,r.a.createElement(p.a,{addonType:"prepend"},r.a.createElement(E.a,{className:"bg-dark text-white"}," Security Effect ")),r.a.createElement(g.a,{className:"bg-dark text-white",name:"securityEffectInput",sm:"8",id:"securityEffectInput",placeholder:"-Security Effect-"})))),r.a.createElement("div",{className:"form-group-filter-element"},r.a.createElement("div",{className:"form-group"},r.a.createElement(u.a,null,r.a.createElement(p.a,{addonType:"prepend"},r.a.createElement(E.a,{className:"bg-dark text-white"}," Set ")),r.a.createElement(g.a,{className:"bg-dark text-white",type:"select",name:"setSelect",sm:"8",id:"setSelect",defaultValue:"default"},r.a.createElement("option",{value:"default"}," -Set- "),i)))),r.a.createElement("div",{className:"form-group-filter-element"},r.a.createElement("div",{className:"form-group"},r.a.createElement(u.a,null,r.a.createElement(p.a,{addonType:"prepend"},r.a.createElement(E.a,{className:"bg-dark text-white"}," Type ")),r.a.createElement(g.a,{className:"bg-dark text-white",type:"select",name:"typeSelect",sm:"8",id:"typeSelect",defaultValue:"default"},r.a.createElement("option",{value:"default"}," -Type- "),b)))))),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"btn-group w-100",role:"group"},r.a.createElement("button",{style:{marginLeft:".5rem"},type:"button",className:"btn w-50 btn-danger",onClick:function(){document.getElementById("searchInput").value="",document.getElementById("attributeSelect").value="default",document.getElementById("cardLevelSelect").value="default",document.getElementById("cardNameInput").value="",document.getElementById("cardTypeSelect").value="default",document.getElementById("colorSelect").value="default",document.getElementById("costSelect").value="default",document.getElementById("digivolveSelect").value="default",document.getElementById("formSelect").value="default",document.getElementById("playEffectInput").value="",document.getElementById("powerSelect").value="default",document.getElementById("securityEffectInput").value="",document.getElementById("setSelect").value="default",document.getElementById("typeSelect").value="default",document.getElementById("raritySelect").value="default"}},"Clear"),r.a.createElement("button",{style:{marginRight:".5rem"},type:"submit",className:"btn w-50 btn-success"},"Filter")))))},I=t(20),S=t.n(I);function D(e){return r.a.createElement(r.a.Fragment,null,e.cards.slice(e.cardsPerPage*(e.page-1),e.cards.length<e.cardsPerPage*e.page?e.cards.length:e.cardsPerPage*e.page).map((function(e){return r.a.createElement("div",{className:"card-container col-lg-4 col-md-6 col-sm-12",key:e.cardNo},r.a.createElement("div",{className:"card text-white bg-dark text-left"},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-5"},r.a.createElement("a",{href:"/#",id:e.cardNo+"link",onClick:function(e){e.preventDefault()}},r.a.createElement("img",{src:S.a,className:"card-img card-back",alt:e.alt}),r.a.createElement("img",{src:e.src,className:"card-img card-front",alt:e.alt}))),r.a.createElement("div",{className:"col-7"},r.a.createElement("div",{className:"card-header"},e.cardNo+" "+e.cardName),r.a.createElement("div",{className:"card-body cards-body"},r.a.createElement("p",{className:"card-text"},"Card Color: "+e.cardColor),r.a.createElement("p",{className:"card-text"},"Card Type: "+e.cardType),r.a.createElement("p",{className:"card-text"},"Card Rarity: "+e.cardRarity),r.a.createElement("p",{className:"card-text"},"Effect: "+e.effect),r.a.createElement("p",{className:"card-text"},"Inherited Effect: "+e.digivolveEffect),r.a.createElement("p",{className:"card-text"},"Security Effect: "+e.securityEffect))))))})))}var T=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row justify-content-center align-items-center pagination-top"},r.a.createElement(k.a,{previousLabel:"previous",nextLabel:"next",breakLabel:"...",breakClassName:"page-item disabled",breakLinkClassName:"page-link text-white bg-dark",pageCount:e.pages,marginPagesDisplayed:1,pageRangeDisplayed:3,onPageChange:function(a){e.setPage(a.selected+1)},containerClassName:"pagination",pageClassName:"page-item",pageLinkClassName:"page-link text-white bg-dark",forcePage:e.page-1,previousClassName:"page-item",previousLinkClassName:"page-link text-white bg-dark",nextClassName:"page-item",nextLinkClassName:"page-link text-white bg-dark",activeClassName:"active"})),r.a.createElement("div",{className:"row d-flex card-list-container"},r.a.createElement(D,{cards:e.cards,page:e.page,cardsInRow:e.cardsInRow,cardsPerPage:e.cardsPerPage,rowsPerPage:e.rowsPerPage})))};var O=function(e){var a=Object(c.useState)([]),t=Object(o.a)(a,2),l=t[0],n=t[1],s=Object(c.useState)(1),d=Object(o.a)(s,2),i=d[0],m=d[1],u=Object(c.useState)(1),p=Object(o.a)(u,2),E=p[0],g=p[1],f=e.setDisplay,v=e.setPageName,N=Math.floor(4);function k(){return function(e,a){return e.cardNo>a.cardNo?1:-1}}var b=Object(c.useCallback)((function(a){var t=Date.now();if(null==sessionStorage.getItem("cardData"))e.service.Get("/cards/",{},(function(e){if(a){var t={created:Date.now(),data:e};sessionStorage.setItem("cardData",JSON.stringify(t));var c=JSON.parse(sessionStorage.getItem("cardData")).data;n(c.sort((function(e,a){return e.cardNo>a.cardNo?1:-1}))),m(Math.ceil(c.length/12)),f("none")}}),(function(e){f("none"),console.log(e)}));else if(t-JSON.parse(sessionStorage.getItem("cardData")).created>=432e5)e.service.Get("/cards/",{},(function(e){if(a){var t={created:Date.now(),data:e};sessionStorage.setItem("cardData",JSON.stringify(t));var c=JSON.parse(sessionStorage.getItem("cardData")).data;n(c),m(Math.ceil(c.length/12)),f("none")}}),(function(e){f("none"),console.log(e)}));else if(a){var c=JSON.parse(sessionStorage.getItem("cardData")).data;n(c),m(Math.ceil(c.length/12)),f("none")}}),[e.service,12,f]);return Object(c.useEffect)((function(){v("Card Database");var e=!0;return e&&b(e),function(){return e=!1}}),[b,v]),r.a.createElement("div",{className:"container-fluid d-flex flex-column flex-start"},r.a.createElement("div",{className:"filterWrapper-top flex-row"},r.a.createElement(x,{sortCards:k,service:e.service,setCards:n,setPages:m,setPage:g,cardsInRow:3,cardsPerPage:12,rowsPerPage:N})),r.a.createElement("div",{className:"cardsWrapper flex-grow-1 d-flex flex-column"},r.a.createElement(T,{service:e.service,cards:l,pages:i,page:E,setPage:g,cardsInRow:3,cardsPerPage:12,rowsPerPage:N})))};var P=function(e){var a=Object(c.useState)(!0),t=Object(o.a)(a,2),l=t[0],n=t[1],s=Date.parse(e.params.creation);return s=(s=new Date(s)).getMonth()+1+"/"+s.getDate()+"/"+s.getFullYear()+", "+s.getHours()+":"+s.getMinutes(),r.a.createElement("div",{className:"deck-info-list"},r.a.createElement("div",{className:"deckInfo",style:{border:"none",padding:"0px"}},r.a.createElement("div",{className:"titleButton"},r.a.createElement("button",{type:"button",className:"btn btn-dark",onClick:function(){n(!l)}},"Deck Info")),r.a.createElement(f.a,{isOpen:l},r.a.createElement("div",{className:"deck-info-container col"},r.a.createElement("div",{className:"row",style:{margin:"0px"}},r.a.createElement(u.a,null,r.a.createElement(p.a,{addonType:"prepend"},r.a.createElement(E.a,{className:"bg-dark text-white"}," Deck Title ")),r.a.createElement(g.a,{className:"bg-dark text-white",id:"deckTitle",value:e.params.title,disabled:!0})),r.a.createElement(u.a,null,r.a.createElement(p.a,{addonType:"prepend"},r.a.createElement(E.a,{className:"bg-dark text-white"}," Created By ")),r.a.createElement(g.a,{className:"bg-dark text-white",id:"createdBy",value:e.params.user,disabled:!0})),r.a.createElement(u.a,null,r.a.createElement(p.a,{addonType:"prepend"},r.a.createElement(E.a,{className:"bg-dark text-white"}," Created On ")),r.a.createElement(g.a,{className:"bg-dark text-white",id:"createdOn",value:s,disabled:!0})),r.a.createElement(u.a,null,r.a.createElement(g.a,{className:"bg-dark text-white",value:"Private",id:"private",disabled:!0}),r.a.createElement(p.a,{addonType:"append"},r.a.createElement(E.a,{className:"bg-dark text-white"},r.a.createElement(g.a,{addon:!0,type:"checkbox",id:"privacy",checked:e.params.privacy,disabled:!0})))))))))},j=t(62);var B=function(e){var a=Object(c.useState)(!0),t=Object(o.a)(a,2),l=t[0],n=t[1],s=Object(c.useState)(!0),d=Object(o.a)(s,2),i=d[0],m=d[1],u=Object(c.useState)(!0),p=Object(o.a)(u,2),E=p[0],g=p[1];function v(e){switch(e){case"Black":return["Black","Black"];case"Blue":return["#0097f4","Black"];case"Green":return["#009c6b","Black"];case"Purple":return["#6456a3","Black"];case"Red":return["#e6002c","Black"];case"White":return["White","Black"];case"Yellow":return["#ffff00","Black"];default:return["White","Black"]}}var N=Object.keys(e.params.mainDeckInfo.colors),k=[],b=[],y=[];for(var h in e.params.mainDeckInfo.colors){var w=v(h),C=Object(o.a)(w,2),x=C[0],I=C[1];k.push(x),y.push(I),b.push(e.params.mainDeckInfo.colors[h])}var S={labels:N,datasets:[{barPercentage:1,barThickness:"flex",minBarThickness:30,maxBarThickness:30,backgroundColor:k,borderColor:y,borderWidth:1,hoverBackgroundColor:k,hoverBorderColor:y,data:b}]},D={};N.forEach((function(e){D[e]={borderColor:[],barColor:[],values:[]}}));var T=e.params.mainDeckInfo.cardTypes,O=Object.keys(T);for(var P in T)for(var B in D){var L=v(B),R=Object(o.a)(L,2),W=R[0],M=R[1];T[P].colors[B]?D[B].values.push(T[P].colors[B]):D[B].values.push(0),D[B].barColor.push(W),D[B].borderColor.push(M)}var V=[];Object.keys(D).forEach((function(e){V.push({label:e,stack:"key",barPercentage:1,barThickness:"flex",minBarThickness:30,maxBarThickness:30,backgroundColor:D[e].barColor,borderColor:D[e].borderColor,borderWidth:1,hoverBackgroundColor:D[e].barColor,hoverBorderColor:D[e].borderColor,data:D[e].values})}));var F={labels:O,datasets:V},J={};N.forEach((function(e){J[e]={borderColor:[],barColor:[],values:[]}}));var G=e.params.mainDeckInfo.levels,A=Object.keys(G),U=A.findIndex((function(e){return"-"===e}));for(var Y in U>-1&&A.splice(U,1),G)if("-"!==Y)for(var q in J){var z=v(q),_=Object(o.a)(z,2);W=_[0],M=_[1],G[Y].colors[q]?J[q].values.push(G[Y].colors[q]):J[q].values.push(0),J[q].barColor.push(W),J[q].borderColor.push(M)}V=[],Object.keys(J).forEach((function(e){V.push({label:e,stack:"key",barPercentage:1,barThickness:"flex",minBarThickness:30,maxBarThickness:30,backgroundColor:J[e].barColor,borderColor:J[e].borderColor,borderWidth:1,hoverBackgroundColor:J[e].barColor,hoverBorderColor:J[e].borderColor,data:J[e].values})}));var H={labels:A,datasets:V};return r.a.createElement("div",{className:"deck-info-list"},r.a.createElement("div",{className:"colorChart panel-row-chart"},r.a.createElement("div",{className:"titleButton"},r.a.createElement("button",{type:"button",className:"btn btn-dark",onClick:function(){m(!i)}},"Colors")),r.a.createElement(f.a,{isOpen:i},r.a.createElement(j.HorizontalBar,{data:S,height:30*S.labels.length+30,options:{scales:{xAxes:[{ticks:{beginAtZero:!0,stepSize:1,maxTicksLimit:11}}]},legend:{display:!1},tooltips:{caretSize:0,enabled:!0,callbacks:{label:function(e,a){var t=a.datasets[e.datasetIndex].data[e.index];return 0===t?null:t}}}}}))),r.a.createElement("div",{className:"typeChart panel-row-chart-bottom"},r.a.createElement("div",{className:"titleButton"},r.a.createElement("button",{type:"button",className:"btn btn-dark",onClick:function(){g(!E)}},"Types")),r.a.createElement(f.a,{isOpen:E},r.a.createElement(j.HorizontalBar,{data:F,height:30*F.labels.length+30+15*N.length,options:{scales:{xAxes:[{ticks:{beginAtZero:!0,stepSize:1,maxTicksLimit:11}}]},legend:{display:!1},tooltips:{caretSize:0,enabled:!0,callbacks:{label:function(e,a){var t=a.datasets[e.datasetIndex].data[e.index];return 0===t?null:t}}}}}))),r.a.createElement("div",{className:"levelChart panel-row-bottom"},r.a.createElement("div",{className:"titleButton"},r.a.createElement("button",{type:"button",className:"btn btn-dark",onClick:function(){n(!l)}},"Levels")),r.a.createElement(f.a,{isOpen:l},r.a.createElement(j.HorizontalBar,{data:H,height:30*H.labels.length+30+15*N.length,options:{scales:{xAxes:[{ticks:{beginAtZero:!0,stepSize:1,maxTicksLimit:11}}]},legend:{display:!1},tooltips:{caretSize:0,enabled:!0,callbacks:{label:function(e,a){var t=a.datasets[e.datasetIndex].data[e.index];return 0===t?null:t}}}}}))))},L=t(312),R=t(328),W=t(313),M=t(314);var V=function(e){return e.params.mainDeck.map((function(e,a){if(!e)return r.a.createElement(r.a.Fragment,null);var t=function(e){switch(e){case"Black":return["Black","White"];case"Blue":return["#0097f4","White"];case"Green":return["#009c6b","White"];case"Purple":return["#6456a3","White"];case"Red":return["#e6002c","White"];case"White":return["White","Black"];case"Yellow":return["#ffff00","Black"];default:return["White","Black"]}}(e.cardColor),c=Object(o.a)(t,2),l=c[0],n=c[1];return r.a.createElement(L.a,{className:"deck-row",key:e.cardNo+e.cardName,row:!0},r.a.createElement(u.a,null,r.a.createElement(g.a,{value:e.cardNo+" "+e.cardName,id:e.cardNo+"row",style:{backgroundColor:l,color:n},disabled:!0}),r.a.createElement(R.a,{delay:{show:250},className:"card-builder-popover",boundariesElement:"body",placement:"auto",trigger:"hover",target:e.cardNo+"row"},r.a.createElement(W.a,{className:"bg-dark text-white"},e.cardNo+" "+e.cardName),r.a.createElement(M.a,{className:"bg-dark text-white"},r.a.createElement("div",{className:"card bg-dark text-white text-left",key:e.cardNo},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-md-5"},r.a.createElement("div",{className:"popover-card-body-image"},r.a.createElement("a",{href:"/#",id:e.cardNo+"link",onClick:function(e){e.preventDefault()}},r.a.createElement("img",{src:S.a,className:"card-img card-back",alt:e.alt}),r.a.createElement("img",{src:e.src,className:"card-img card-front",alt:e.alt})))),r.a.createElement("div",{className:"col-md-7"},r.a.createElement("div",{className:"popover-card-body-text"},r.a.createElement("p",{className:"card-text"},"Card Color: "+e.cardColor),r.a.createElement("p",{className:"card-text"},"Card Type: "+e.cardType),r.a.createElement("p",{className:"card-text"},"Card Rarity: "+e.cardRarity),r.a.createElement("p",{className:"card-text"},"Effect: "+e.effect),r.a.createElement("p",{className:"card-text"},"Inherited Effect: "+e.digivolveEffect),r.a.createElement("p",{className:"card-text"},"Security Effect: "+e.securityEffect))))))),r.a.createElement(p.a,{addonType:"append"},r.a.createElement(E.a,{className:"bg-dark text-white"}," ",e.count," "))))}))};var F=function(e){return e.params.eggDeck.map((function(e,a){if(!e)return r.a.createElement(r.a.Fragment,null);var t=function(e){switch(e){case"Black":return["Black","White"];case"Blue":return["#0097f4","White"];case"Green":return["#009c6b","White"];case"Purple":return["#6456a3","White"];case"Red":return["#e6002c","White"];case"White":return["White","Black"];case"Yellow":return["#ffff00","Black"];default:return["White","Black"]}}(e.cardColor),c=Object(o.a)(t,2),l=c[0],n=c[1];return r.a.createElement(L.a,{className:"deck-row",key:e.cardNo+e.cardName,row:!0},r.a.createElement(u.a,null,r.a.createElement(g.a,{value:e.cardNo+" "+e.cardName,id:e.cardNo+"row",style:{backgroundColor:l,color:n},disabled:!0}),r.a.createElement(R.a,{delay:{show:250},className:"card-builder-popover",boundariesElement:"body",placement:"auto",trigger:"hover",target:e.cardNo+"row"},r.a.createElement(W.a,{className:"bg-dark text-white"},e.cardNo+" "+e.cardName),r.a.createElement(M.a,{className:"bg-dark text-white"},r.a.createElement("div",{className:"bg-dark text-white card text-left",key:e.cardNo},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-md-5"},r.a.createElement("div",{className:"popover-card-body-image"},r.a.createElement("a",{href:"/#",id:e.cardNo+"link",onClick:function(e){e.preventDefault()}},r.a.createElement("img",{src:S.a,className:"card-img card-back",alt:e.alt}),r.a.createElement("img",{src:e.src,className:"card-img card-front",alt:e.alt})))),r.a.createElement("div",{className:"col-md-7"},r.a.createElement("div",{className:"popover-card-body-text"},r.a.createElement("p",{className:"card-text"},"Card Color: "+e.cardColor),r.a.createElement("p",{className:"card-text"},"Card Type: "+e.cardType),r.a.createElement("p",{className:"card-text"},"Card Rarity: "+e.cardRarity),r.a.createElement("p",{className:"card-text"},"Effect: "+e.effect),r.a.createElement("p",{className:"card-text"},"Inherited Effect: "+e.digivolveEffect),r.a.createElement("p",{className:"card-text"},"Security Effect: "+e.securityEffect))))))),r.a.createElement(p.a,{addonType:"append"},r.a.createElement(E.a,{className:"bg-dark text-white"}," ",e.count," "))))}))};var J=function(e){var a=Object(c.useState)(!0),t=Object(o.a)(a,2),l=t[0],n=t[1],s=Object(c.useState)(!0),d=Object(o.a)(s,2),i=d[0],m=d[1],u=Object(c.useState)("flex"),p=Object(o.a)(u,2),E=p[0],g=p[1],v=Object(c.useState)("flex"),N=Object(o.a)(v,2),k=N[0],b=N[1],y={};e.params.mainDeck.forEach((function(e){y[e.cardLv]?y[e.cardLv].push(e):y[e.cardLv]=[e]}));var h=Object.keys(y),w=Object.keys(y),C=h.findIndex((function(e){return"-"===e}));C>-1&&(w.splice(C,1),w.unshift("-"));for(var x=[],I=0;I<h.length;I++)for(var D=0;D<y[h[I]].length;D++)x.push(y[h[I]][D]);var T=x.map((function(e){return r.a.createElement("div",{className:"card-container col-xl-3 col-lg-6 col-md-6 col-sm-6 col-12",key:e.cardNo},r.a.createElement("div",{className:"card text-white bg-dark text-left"},r.a.createElement("a",{href:"/#",id:e.cardNo+"link",onClick:function(e){e.preventDefault()}},r.a.createElement("img",{src:S.a,className:"card-img card-back",alt:e.alt}),r.a.createElement("img",{src:e.src,className:"card-img card-front",alt:e.alt})),r.a.createElement(R.a,{delay:{show:350},className:"card-builder-popover",boundariesElement:"body",placement:"auto",trigger:"hover",target:e.cardNo+"link"},r.a.createElement(W.a,{className:"text-white bg-dark"},e.cardNo+" "+e.cardName),r.a.createElement(M.a,{className:"text-white bg-dark"},r.a.createElement("div",{className:"card bg-dark text-white text-left",key:e.cardNo},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"popover-card-body-image"},r.a.createElement("img",{src:S.a,className:"card-img card-back",alt:e.alt}),r.a.createElement("img",{src:e.src,className:"card-img card-front",alt:e.alt}))),r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"popover-card-body-text"},r.a.createElement("p",{className:"card-text"},"Card Color: "+e.cardColor),r.a.createElement("p",{className:"card-text"},"Card Type: "+e.cardType),r.a.createElement("p",{className:"card-text"},"Card Rarity: "+e.cardRarity),r.a.createElement("p",{className:"card-text"},"Effect: "+e.effect),r.a.createElement("p",{className:"card-text"},"Inherited Effect: "+e.digivolveEffect),r.a.createElement("p",{className:"card-text"},"Security Effect: "+e.securityEffect)))))))))})),O=e.params.eggDeck.map((function(e){return r.a.createElement("div",{className:"card-container col-xl-6 col-lg-12 col-md-12 col-sm-12 col-12",key:e.cardNo},r.a.createElement("div",{className:"card text-white bg-dark text-left"},r.a.createElement("a",{href:"/#",id:e.cardNo+"link",onClick:function(e){e.preventDefault()}},r.a.createElement("img",{src:S.a,className:"card-img card-back",alt:e.alt}),r.a.createElement("img",{src:e.src,className:"card-img card-front",alt:e.alt})),r.a.createElement(R.a,{delay:{show:350},className:"card-builder-popover",boundariesElement:"body",placement:"auto",trigger:"hover",target:e.cardNo+"link"},r.a.createElement(W.a,{className:"text-white bg-dark"},e.cardNo+" "+e.cardName),r.a.createElement(M.a,{className:"text-white bg-dark"},r.a.createElement("div",{className:"card bg-dark text-white text-left",key:e.cardNo},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"popover-card-body-image"},r.a.createElement("img",{src:S.a,className:"card-img card-back",alt:e.alt}),r.a.createElement("img",{src:e.src,className:"card-img card-front",alt:e.alt}))),r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"popover-card-body-text"},r.a.createElement("p",{className:"card-text"},"Card Color: "+e.cardColor),r.a.createElement("p",{className:"card-text"},"Card Type: "+e.cardType),r.a.createElement("p",{className:"card-text"},"Card Rarity: "+e.cardRarity),r.a.createElement("p",{className:"card-text"},"Effect: "+e.effect),r.a.createElement("p",{className:"card-text"},"Inherited Effect: "+e.digivolveEffect),r.a.createElement("p",{className:"card-text"},"Security Effect: "+e.securityEffect)))))))))}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"d-flex flex-column flex-grow-1 col-12 col-xl-8 col-lg-8 col-md-8 col-sm-12 visualView-container-decks deck-info-list-container"},r.a.createElement("div",{className:"d-flex flex-column flex-grow-1 deck-info-list"},r.a.createElement("div",{className:"titleButton"},r.a.createElement("button",{type:"button",className:"btn btn-dark",onClick:function(){m(!i),g("none"===E?"flex":"none")}},"Main Deck")),r.a.createElement(f.a,{className:"flex-row flex-wrap card-list-container",isOpen:i,style:{overflowY:"auto",overflowX:"hidden",display:E}},T))),r.a.createElement("div",{className:"d-flex flex-column flex-grow-1 col-12 col-xl-4 col-lg-4 col-md-4 col-sm-12 visualView-container-decks deck-info-list-container"},r.a.createElement("div",{className:"d-flex flex-column flex-grow-1 deck-info-list"},r.a.createElement("div",{className:"titleButton"},r.a.createElement("button",{type:"button",className:"btn btn-dark",onClick:function(){n(!l),b("none"===k?"flex":"none")}},"Egg Deck")),r.a.createElement(f.a,{className:"flex-row flex-wrap card-list-container",isOpen:l,style:{overflowY:"auto",overflowX:"hidden",display:k}},O))))};var G=function(e){var a=Object(c.useState)(!0),t=Object(o.a)(a,2),l=t[0],n=t[1],s=Object(c.useState)(!0),d=Object(o.a)(s,2),i=d[0],m=d[1],u=Object(c.useState)(!1),p=Object(o.a)(u,2),E=p[0],g=p[1],v=Object(c.useState)("none"),N=Object(o.a)(v,2),k=N[0],b=N[1],y=Object(c.useState)("flex"),h=Object(o.a)(y,2),C=h[0],x=h[1],I=Object(c.useState)({mainDeck:[],mainDeckInfo:{colors:{},cardTypes:{},levels:{}},eggDeck:[],eggDeckInfo:{colors:{}}}),S=Object(o.a)(I,2),D=S[0],T=S[1],O=Object(w.h)(),j=e.setDisplay,L=e.setPageName,R=Object(w.g)(),W=Object(c.useCallback)((function(a){j("block"),e.service.Get("/decks/deck",{_id:O.id},(function(e){a&&(e.mainDeck.sort((function(e,a){return e.cardColor>a.cardColor?1:e.cardColor<a.cardColor?-1:e.cardType>a.cardType?1:e.cardType<a.cardType?-1:e.cardLv>a.cardLv?1:e.cardLv<a.cardLv?-1:e.cardName>a.cardName?1:e.cardName<a.cardName?-1:e.cardNo>a.cardNo?1:e.cardNo<a.cardNo?-1:0})),e.eggDeck.sort((function(e,a){return e.cardColor>a.cardColor?1:e.cardColor<a.cardColor?-1:e.cardType>a.cardType?1:e.cardType<a.cardType?-1:e.cardLv>a.cardLv?1:e.cardLv<a.cardLv?-1:e.cardName>a.cardName?1:e.cardName<a.cardName?-1:e.cardNo>a.cardNo?1:e.cardNo<a.cardNo?-1:0})),T(e),g(!0),j("none"))}),(function(e){j("none"),R.push("/")}))}),[e.service,j,R,O.id]);return Object(c.useEffect)((function(){L("Decklist");var a=!0;return a&&(e.params?(e.params.mainDeck.sort((function(e,a){return e.cardColor>a.cardColor?1:e.cardColor<a.cardColor?-1:e.cardType>a.cardType?1:e.cardType<a.cardType?-1:e.cardLv>a.cardLv?1:e.cardLv<a.cardLv?-1:e.cardName>a.cardName?1:e.cardName<a.cardName?-1:e.cardNo>a.cardNo?1:e.cardNo<a.cardNo?-1:0})),e.params.eggDeck.sort((function(e,a){return e.cardColor>a.cardColor?1:e.cardColor<a.cardColor?-1:e.cardType>a.cardType?1:e.cardType<a.cardType?-1:e.cardLv>a.cardLv?1:e.cardLv<a.cardLv?-1:e.cardName>a.cardName?1:e.cardName<a.cardName?-1:e.cardNo>a.cardNo?1:e.cardNo<a.cardNo?-1:0})),T(e.params),g(!0)):W(a)),function(){return a=!1}}),[W,e.params,L]),r.a.createElement("div",{className:"d-flex flex-column flex-start container-fluid"},r.a.createElement("div",{className:"d-flex row header-container justify-content-center"},r.a.createElement("div",{className:"col header"},r.a.createElement("h1",null," Deck: ",D.title," "))),r.a.createElement("div",{className:"d-flex row deck-options justify-content-start d-flex align-items-center"},r.a.createElement("div",{className:"option-button-container"},r.a.createElement("button",{style:{marginRight:".5rem"},type:"button",className:"btn btn-primary",onClick:function(){var e=D.mainDeck,a=D.eggDeck,t=D.title;t=t.replace(/[/\\?%*:|"<>]/g,"-");var c="//Main Deck\n";e.forEach((function(e){c+=e.count+" "+e.cardName+" ("+e.cardNo+")\n"})),c+="\n//Digi-Egg Deck\n",a.forEach((function(e){c+=e.count+" "+e.cardName+" ("+e.cardNo+")\n"})),function(e,a,t){var c=document.createElement("a"),r=new Blob([e],{type:t});c.href=URL.createObjectURL(r),c.download=a,c.click()}(c,t+".txt","text/plain")}},"Export to Untap")),r.a.createElement("div",{className:"option-button-container"},r.a.createElement("button",{style:{marginRight:".5rem"},type:"button",className:"btn btn-primary",onClick:function(){var a=D;a.request="Copy",e.onNavigate(a),R.push("/deckeditor/")}},"Copy Deck")),e.userDetails.username===D.user&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"option-button-container"},r.a.createElement("button",{style:{marginRight:".5rem"},type:"button",className:"btn btn-primary",onClick:function(){var a=D;a.request="Edit",e.onNavigate(a),R.push("/deckeditor/")}},"Edit Deck")),r.a.createElement("div",{className:"option-button-container"},r.a.createElement("button",{style:{marginRight:".5rem"},type:"button",className:"btn btn-primary","data-toggle":"modal","data-target":"#deleteModal"},"Delete Deck"),r.a.createElement("div",{className:"modal fade",id:"deleteModal",tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},r.a.createElement("div",{className:"modal-dialog",role:"document"},r.a.createElement("div",{className:"modal-content bg-dark"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h5",{className:"modal-title",id:"deleteModalLabel"},"Delete Deck")),r.a.createElement("div",{className:"modal-body"},"Are you sure you want to delete this deck? This cannot be reversed."),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{type:"button",className:"btn btn-danger","data-dismiss":"modal"},"Nevermind"),r.a.createElement("button",{type:"button",className:"btn btn-success","data-dismiss":"modal",onClick:function(){if(D.user===e.userDetails.username){var a={_id:D.id,user:D.user};e.service.Post("/decks/delete",a,(function(){alert("Deck Deleted"),e.onNavigate(null),R.push("/mydecks")}),(function(e){alert(e)}))}}},"Delete Deck"))))))),r.a.createElement("div",{className:"option-button-container"},r.a.createElement("button",{style:{marginRight:".5rem"},type:"button",className:"btn btn-primary",onClick:function(){"none"===k?(b("flex"),x("none")):(b("none"),x("flex"))}},"none"===k&&"Visual View","none"===C&&"List View"))),r.a.createElement("div",{className:"deck-info-container d-flex flex-row flex-grow-1 flex-start flex-wrap justify-content-center"},r.a.createElement("div",{className:"col-xl-3 col-md-4 col-sm-12 deck-info-list-container"},E&&r.a.createElement(P,{params:D})),r.a.createElement("div",{className:"row col-xl-9 col-md-8 col-sm-12 deck-info-list-container ",style:{display:C}},r.a.createElement("div",{className:"col-xl-4 col-md-6 col-sm-12"},r.a.createElement("div",{className:"deck-info-list"},r.a.createElement("div",{className:"titleButton"},r.a.createElement("button",{type:"button",className:"btn btn-dark",onClick:function(){m(!i)}},"Main Deck")),r.a.createElement(f.a,{isOpen:i},r.a.createElement("div",{className:"mainDeck-list-container col"},E&&r.a.createElement(V,{params:D}))))),r.a.createElement("div",{className:"col-xl-4 col-md-6 col-sm-12"},r.a.createElement("div",{className:"deck-info-list"},r.a.createElement("div",{className:"titleButton"},r.a.createElement("button",{type:"button",className:"btn btn-dark",onClick:function(){n(!l)}},"Egg Deck")),r.a.createElement(f.a,{isOpen:l},r.a.createElement("div",{className:"eggDeck-list-container col"},E&&r.a.createElement(F,{params:D}))))),r.a.createElement("div",{className:"col-xl-4 col-md-6 col-sm-12"},E&&r.a.createElement(B,{params:D}))),r.a.createElement("div",{className:"row flex-grow-1 col-xl-9 col-md-8 col-sm-12 visualView-container flex-wrap",style:{display:k}},E&&r.a.createElement(J,{params:D}))))},A=t(21),U=t(23),Y=t(30);var q=function(e){var a=Object(c.useState)(),t=Object(o.a)(a,2),l=t[0],n=t[1],s=Object(c.useState)(),d=Object(o.a)(s,2),i=d[0],v=d[1],N=Object(c.useState)(),k=Object(o.a)(N,2),b=k[0],y=k[1],h=Object(c.useState)(!1),w=Object(o.a)(h,2),C=w[0],x=w[1],I=Object(c.useCallback)((function(a){e.service.Get("/cards/power",{},(function(e){if(console.log(a),a){var t=e.sort().map((function(e){return r.a.createElement("option",{key:"power"+e,value:e},e)}));n(t)}}),(function(e){console.log(e),n("")})),a&&(e.service.Get("/cards/sets",{},(function(e){if(a){var t=e.sort().map((function(e){return r.a.createElement("option",{key:"set"+e,value:e},e)}));v(t)}}),(function(e){console.log(e),v("")})),a&&e.service.Get("/cards/types",{},(function(e){if(a){var t=e.sort().map((function(e){return r.a.createElement("option",{key:"type"+e,value:e},e)}));y(t)}}),(function(e){console.log(e),y("")})))}),[e.service]);return Object(c.useEffect)((function(){var e=!0;return e&&I(e),function(){return e=!1}}),[I]),r.a.createElement("div",{className:"FilterMenu w-100"},r.a.createElement(m.a,{className:"px-4 py-3",id:"filter",onSubmit:function(a){a.preventDefault(),e.setPage(1),function(){var a=document.getElementById("searchInput").value.trim(),t=document.getElementById("attributeSelect").value;"default"===t&&(t="");var c=document.getElementById("cardLevelSelect").value;"default"===c&&(c="");var r=document.getElementById("cardNameInput").value.trim(),l=document.getElementById("cardTypeSelect").value;"default"===l&&(l="");var n=document.getElementById("colorSelect").value;"default"===n&&(n="");var o=document.getElementById("costSelect").value;"default"===o&&(o="");var s=document.getElementById("digivolveSelect").value;"default"===s&&(s="");var d=document.getElementById("formSelect").value;"default"===d&&(d="");var i=document.getElementById("playEffectInput").value.trim(),m=document.getElementById("powerSelect").value;"default"===m&&(m="");var u=document.getElementById("securityEffectInput").value.trim(),p=document.getElementById("setSelect").value;"default"===p&&(p="");var E=document.getElementById("typeSelect").value;"default"===E&&(E="");var g=document.getElementById("raritySelect").value;"default"===g&&(g="");var f=[];if(!(a||t||c||r||l||n||o||s||d||i||m||u||p||E||g))return f=JSON.parse(sessionStorage.getItem("cardData")).data,e.setCards(f),e.setPages(Math.ceil(f.length/e.cardsPerPage)),void e.setPage(1);f=JSON.parse(sessionStorage.getItem("cardData")).data.filter((function(e){var f=!0;return a&&(f=f&&e.fullText.toLowerCase().indexOf(a.toLowerCase())>-1),t&&(f=f&&e.attribute===t),c&&(f=f&&e.cardLv===c),r&&(f=f&&e.cardName.toLowerCase().indexOf(r.toLowerCase())>-1),l&&(f=f&&e.cardType===l),n&&(f=f&&e.cardColor===n),o&&(f=f&&e.playCost===o),s&&(f=f&&(e.digivolve1Cost===s||e.digivolve2Cost===s)),d&&(f=f&&e.form===d),i&&(f=f&&e.effect.toLowerCase().indexOf(i.toLowerCase())>-1),m&&(f=f&&e.digiPower===m),u&&(f=f&&e.securityEffect.toLowerCase().indexOf(u.toLowerCase())>-1),p&&(f=f&&e.setId===p),E&&(f=f&&e.type===E),g&&(f=f&&e.cardRarity===g),f})),e.setCards(f.sort(e.sortCards())),e.setPages(Math.ceil(f.length/e.cardsPerPage)),e.setPage(1)}()}},r.a.createElement("div",{className:"form-row d-flex"},r.a.createElement("div",{className:"form-group-filter-element w-100"},r.a.createElement("div",{className:"form-group"},r.a.createElement(u.a,null,r.a.createElement(p.a,{addonType:"prepend"},r.a.createElement(E.a,{className:"bg-dark text-white"}," All Text ")),r.a.createElement(g.a,{className:"bg-dark text-white",placeholder:"Search Card Text",id:"searchInput"}),r.a.createElement(p.a,{addonType:"append"},r.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){x(!C)}},"Show more filters")))))),r.a.createElement(f.a,{isOpen:C},r.a.createElement("div",{className:"d-flex form-row flex-wrap justify-content-left"},r.a.createElement("div",{className:"form-group-filter-element"},r.a.createElement("div",{className:"form-group"},r.a.createElement(u.a,null,r.a.createElement(p.a,{addonType:"prepend",sm:"4"},r.a.createElement(E.a,{className:"bg-dark text-white"}," Attribute ")),r.a.createElement(g.a,{className:"bg-dark text-white",type:"select",name:"attributeSelect",sm:"8",id:"attributeSelect",defaultValue:"default"},r.a.createElement("option",{value:"default"}," -Attribute- "),r.a.createElement("option",{value:"-"}," - "),r.a.createElement("option",{value:"Data"}," Data "),r.a.createElement("option",{value:"Free"}," Free "),r.a.createElement("option",{value:"Unknown"}," Unknown "),r.a.createElement("option",{value:"Vaccine"}," Vaccine "))))),r.a.createElement("div",{className:"form-group-filter-element"},r.a.createElement("div",{className:"form-group"},r.a.createElement(u.a,null,r.a.createElement(p.a,{addonType:"prepend"},r.a.createElement(E.a,{className:"bg-dark text-white"}," Card Level ")),r.a.createElement(g.a,{className:"bg-dark text-white",type:"select",name:"cardLevelSelect",sm:"8",id:"cardLevelSelect",defaultValue:"default"},r.a.createElement("option",{value:"default"}," -Card Level- "),r.a.createElement("option",{value:"-"}," - "),r.a.createElement("option",{value:"1"}," 1 "),r.a.createElement("option",{value:"2"}," 2 "),r.a.createElement("option",{value:"3"}," 3 "),r.a.createElement("option",{value:"4"}," 4 "),r.a.createElement("option",{value:"5"}," 5 "),r.a.createElement("option",{value:"6"}," 6 "),r.a.createElement("option",{value:"7"}," 7 "))))),r.a.createElement("div",{className:"form-group-filter-element"},r.a.createElement("div",{className:"form-group"},r.a.createElement(u.a,null,r.a.createElement(p.a,{addonType:"prepend"},r.a.createElement(E.a,{className:"bg-dark text-white"}," Card Name ")),r.a.createElement(g.a,{className:"bg-dark text-white",name:"cardNameInput",sm:"8",id:"cardNameInput",placeholder:"-Card Name-"})))),r.a.createElement("div",{className:"form-group-filter-element"},r.a.createElement("div",{className:"form-group"},r.a.createElement(u.a,null,r.a.createElement(p.a,{addonType:"prepend"},r.a.createElement(E.a,{className:"bg-dark text-white"}," Card Type ")),r.a.createElement(g.a,{className:"bg-dark text-white",type:"select",name:"cardTypeSelect",sm:"8",id:"cardTypeSelect",defaultValue:"default"},r.a.createElement("option",{value:"default"}," -Card Type- "),r.a.createElement("option",{value:"Digi-Egg"}," Digi-Egg "),r.a.createElement("option",{value:"Digimon"}," Digimon "),r.a.createElement("option",{value:"Option"}," Option "),r.a.createElement("option",{value:"Tamer"}," Tamer "))))),r.a.createElement("div",{className:"form-group-filter-element"},r.a.createElement("div",{className:"form-group"},r.a.createElement(u.a,null,r.a.createElement(p.a,{addonType:"prepend"},r.a.createElement(E.a,{className:"bg-dark text-white"}," Color ")),r.a.createElement(g.a,{className:"bg-dark text-white",type:"select",name:"colorSelect",sm:"8",id:"colorSelect",defaultValue:"default"},r.a.createElement("option",{value:"default"}," -Color- "),r.a.createElement("option",{value:"Black"}," Black "),r.a.createElement("option",{value:"Blue"}," Blue "),r.a.createElement("option",{value:"Green"}," Green "),r.a.createElement("option",{value:"Purple"}," Purple "),r.a.createElement("option",{value:"Red"}," Red "),r.a.createElement("option",{value:"White"}," White "),r.a.createElement("option",{value:"Yellow"}," Yellow "))))),r.a.createElement("div",{className:"form-group-filter-element"},r.a.createElement("div",{className:"form-group"},r.a.createElement(u.a,null,r.a.createElement(p.a,{addonType:"prepend"},r.a.createElement(E.a,{className:"bg-dark text-white"}," Cost ")),r.a.createElement(g.a,{className:"bg-dark text-white",type:"select",name:"costSelect",sm:"8",id:"costSelect",defaultValue:"default"},r.a.createElement("option",{value:"default"}," -Cost- "),r.a.createElement("option",{value:"-"}," - "),r.a.createElement("option",{value:"1"}," 1 "),r.a.createElement("option",{value:"2"}," 2 "),r.a.createElement("option",{value:"3"}," 3 "),r.a.createElement("option",{value:"4"}," 4 "),r.a.createElement("option",{value:"5"}," 5 "),r.a.createElement("option",{value:"6"}," 6 "),r.a.createElement("option",{value:"7"}," 7 "),r.a.createElement("option",{value:"8"}," 8 "),r.a.createElement("option",{value:"9"}," 9 "),r.a.createElement("option",{value:"10"}," 10 "),r.a.createElement("option",{value:"11"}," 11 "),r.a.createElement("option",{value:"12"}," 12 "),r.a.createElement("option",{value:"13"}," 13 "),r.a.createElement("option",{value:"14"}," 14 "),r.a.createElement("option",{value:"15"}," 15 "))))),r.a.createElement("div",{className:"form-group-filter-element"},r.a.createElement("div",{className:"form-group"},r.a.createElement(u.a,null,r.a.createElement(p.a,{addonType:"prepend"},r.a.createElement(E.a,{className:"bg-dark text-white"}," Digivolve Cost ")),r.a.createElement(g.a,{className:"bg-dark text-white",type:"select",name:"digivolveSelect",sm:"8",id:"digivolveSelect",defaultValue:"default"},r.a.createElement("option",{value:"default"}," -Digivolve Cost- "),r.a.createElement("option",{value:"-"}," - "),r.a.createElement("option",{value:"1"}," 1 "),r.a.createElement("option",{value:"2"}," 2 "),r.a.createElement("option",{value:"3"}," 3 "),r.a.createElement("option",{value:"4"}," 4 "),r.a.createElement("option",{value:"5"}," 5 "),r.a.createElement("option",{value:"6"}," 6 "))))),r.a.createElement("div",{className:"form-group-filter-element"},r.a.createElement("div",{className:"form-group"},r.a.createElement(u.a,null,r.a.createElement(p.a,{addonType:"prepend"},r.a.createElement(E.a,{className:"bg-dark text-white"}," Form ")),r.a.createElement(g.a,{className:"bg-dark text-white",type:"select",name:"formSelect",sm:"8",id:"formSelect",defaultValue:"default"},r.a.createElement("option",{value:"default"}," -Form- "),r.a.createElement("option",{value:"-"}," - "),r.a.createElement("option",{value:"In-Training"}," In-Training "),r.a.createElement("option",{value:"Rookie"}," Rookie "),r.a.createElement("option",{value:"Champion"}," Champion "),r.a.createElement("option",{value:"Ultimate"}," Ultimate "),r.a.createElement("option",{value:"Mega"}," Mega "))))),r.a.createElement("div",{className:"form-group-filter-element"},r.a.createElement("div",{className:"form-group flex-nowrap"},r.a.createElement(u.a,null,r.a.createElement(p.a,{addonType:"prepend"},r.a.createElement(E.a,{className:"bg-dark text-white"}," Effect ")),r.a.createElement(g.a,{className:"bg-dark text-white",name:"playEffectInput",sm:"8",id:"playEffectInput",placeholder:"-Effect-"})))),r.a.createElement("div",{className:"form-group-filter-element"},r.a.createElement("div",{className:"form-group"},r.a.createElement(u.a,null,r.a.createElement(p.a,{addonType:"prepend",sm:"4"},r.a.createElement(E.a,{className:"bg-dark text-white"}," Power ")),r.a.createElement(g.a,{className:"bg-dark text-white",type:"select",name:"powerSelect",sm:"8",id:"powerSelect",defaultValue:"default"},r.a.createElement("option",{value:"default"}," -Power- "),l)))),r.a.createElement("div",{className:"form-group-filter-element"},r.a.createElement("div",{className:"form-group"},r.a.createElement(u.a,null,r.a.createElement(p.a,{addonType:"prepend"},r.a.createElement(E.a,{className:"bg-dark text-white"}," Rarity ")),r.a.createElement(g.a,{className:"bg-dark text-white",type:"select",name:"raritySelect",sm:"8",id:"raritySelect",defaultValue:"default"},r.a.createElement("option",{value:"default"}," -Rarity- "),r.a.createElement("option",{value:"C"}," Common "),r.a.createElement("option",{value:"U"}," Uncommon "),r.a.createElement("option",{value:"R"}," Rare "),r.a.createElement("option",{value:"SR"}," Super Rare "),r.a.createElement("option",{value:"SEC"}," Secret Rare "))))),r.a.createElement("div",{className:"form-group-filter-element"},r.a.createElement("div",{className:"form-group"},r.a.createElement(u.a,null,r.a.createElement(p.a,{addonType:"prepend"},r.a.createElement(E.a,{className:"bg-dark text-white"}," Security Effect ")),r.a.createElement(g.a,{className:"bg-dark text-white",name:"securityEffectInput",sm:"8",id:"securityEffectInput",placeholder:"-Security Effect-"})))),r.a.createElement("div",{className:"form-group-filter-element"},r.a.createElement("div",{className:"form-group"},r.a.createElement(u.a,null,r.a.createElement(p.a,{addonType:"prepend"},r.a.createElement(E.a,{className:"bg-dark text-white"}," Set ")),r.a.createElement(g.a,{className:"bg-dark text-white",type:"select",name:"setSelect",sm:"8",id:"setSelect",defaultValue:"default"},r.a.createElement("option",{value:"default"}," -Set- "),i)))),r.a.createElement("div",{className:"form-group-filter-element"},r.a.createElement("div",{className:"form-group"},r.a.createElement(u.a,null,r.a.createElement(p.a,{addonType:"prepend"},r.a.createElement(E.a,{className:"bg-dark text-white"}," Type ")),r.a.createElement(g.a,{className:"bg-dark text-white",type:"select",name:"typeSelect",sm:"8",id:"typeSelect",defaultValue:"default"},r.a.createElement("option",{value:"default"}," -Type- "),b)))))),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"btn-group w-100",role:"group"},r.a.createElement("button",{style:{marginLeft:".5rem"},type:"button",className:"btn w-50 btn-danger",onClick:function(){document.getElementById("searchInput").value="",document.getElementById("attributeSelect").value="default",document.getElementById("cardLevelSelect").value="default",document.getElementById("cardNameInput").value="",document.getElementById("cardTypeSelect").value="default",document.getElementById("colorSelect").value="default",document.getElementById("costSelect").value="default",document.getElementById("digivolveSelect").value="default",document.getElementById("formSelect").value="default",document.getElementById("playEffectInput").value="",document.getElementById("powerSelect").value="default",document.getElementById("securityEffectInput").value="",document.getElementById("setSelect").value="default",document.getElementById("typeSelect").value="default",document.getElementById("raritySelect").value="default"}},"Clear"),r.a.createElement("button",{style:{marginRight:".5rem"},type:"submit",className:"btn w-50 btn-success"},"Filter")))))};function z(e){return r.a.createElement(r.a.Fragment,null,e.cards.slice(e.cardsPerPage*(e.page-1),e.cards.length<e.cardsPerPage*e.page?e.cards.length:e.cardsPerPage*e.page).map((function(a){return r.a.createElement("div",{className:"card-container col-xl-2 col-lg-3 col-md-4 col-sm-4 col-12",key:a.cardNo},r.a.createElement("div",{className:"card text-white bg-dark text-left"},r.a.createElement("a",{href:"/#",id:a.cardNo+"link","data-container":"body",onClick:function(t){t.preventDefault(),"Digi-Egg"===a.cardType?function(a){e.addEggCard(a)}(a):function(a){e.addCard(a)}(a)}},r.a.createElement("img",{src:S.a,className:"card-img card-back",alt:a.alt}),r.a.createElement("img",{src:a.src,className:"card-img card-front",alt:a.alt})),r.a.createElement(R.a,{delay:{show:350},className:"card-builder-popover",boundariesElement:"body",placement:"auto",trigger:"hover",target:a.cardNo+"link"},r.a.createElement(W.a,{className:"text-white bg-dark"},a.cardNo+" "+a.cardName),r.a.createElement(M.a,{className:"text-white bg-dark"},r.a.createElement("div",{className:"card bg-dark text-white text-left",key:a.cardNo},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"popover-card-body-image"},r.a.createElement("a",{href:"/#",id:a.cardNo+"link",onClick:function(e){e.preventDefault()}},r.a.createElement("img",{src:S.a,className:"card-img card-back",alt:a.alt}),r.a.createElement("img",{src:a.src,className:"card-img card-front",alt:a.alt})))),r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"popover-card-body-text"},r.a.createElement("p",{className:"card-text"},"Card Color: "+a.cardColor),r.a.createElement("p",{className:"card-text"},"Card Type: "+a.cardType),r.a.createElement("p",{className:"card-text"},"Card Rarity: "+a.cardRarity),r.a.createElement("p",{className:"card-text"},"Effect: "+a.effect),r.a.createElement("p",{className:"card-text"},"Inherited Effect: "+a.digivolveEffect),r.a.createElement("p",{className:"card-text"},"Security Effect: "+a.securityEffect)))))))))})))}var _=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row d-flex justify-content-center align-items-center pagination-top"},r.a.createElement(k.a,{previousLabel:"previous",nextLabel:"next",breakLabel:"...",breakClassName:"page-item disabled",breakLinkClassName:"page-link text-white bg-dark",pageCount:e.pages,marginPagesDisplayed:1,pageRangeDisplayed:3,onPageChange:function(a){e.setPage(a.selected+1)},containerClassName:"pagination",pageClassName:"page-item",forcePage:e.page-1,pageLinkClassName:"page-link text-white bg-dark",previousClassName:"page-item",previousLinkClassName:"page-link text-white bg-dark",nextClassName:"page-item",nextLinkClassName:"page-link text-white bg-dark",activeClassName:"active"})),r.a.createElement("div",{className:"flex-row flex-grow-1 d-flex db-card-list-container"},r.a.createElement(z,e)))};function H(e){return e.eggDeck.decklist.map((function(a,t){var c=function(e){switch(e){case"Black":return["Black","White"];case"Blue":return["#0097f4","White"];case"Green":return["#009c6b","White"];case"Purple":return["#6456a3","White"];case"Red":return["#e6002c","White"];case"White":return["White","Black"];case"Yellow":return["#ffff00","Black"];default:return["White","Black"]}}(a.cardColor),l=Object(o.a)(c,2),n=l[0],s=l[1];return r.a.createElement(L.a,{className:"deck-row",key:a.cardNo+a.cardName+"row",row:!0},r.a.createElement(u.a,null,r.a.createElement(g.a,{value:a.cardNo+" "+a.cardName,id:a.cardNo+"row",style:{backgroundColor:n,color:s},disabled:!0}),r.a.createElement(R.a,{delay:{show:250},className:"card-builder-popover",boundariesElement:"body",placement:"auto",trigger:"hover",target:a.cardNo+"row"},r.a.createElement(W.a,{className:"bg-dark text-white"},a.cardNo+" "+a.cardName),r.a.createElement(M.a,{className:"bg-dark text-white"},r.a.createElement("div",{className:"card bg-dark text-white text-left",key:a.cardNo+"row"},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-md-5"},r.a.createElement("div",{className:"popover-card-body-image"},r.a.createElement("a",{href:"/#",id:a.cardNo+"link",onClick:function(e){e.preventDefault()}},r.a.createElement("img",{src:S.a,className:"card-img card-back",alt:a.alt}),r.a.createElement("img",{src:a.src,className:"card-img card-front",alt:a.alt})))),r.a.createElement("div",{className:"col-md-7"},r.a.createElement("div",{className:"popover-card-body-text"},r.a.createElement("p",{className:"card-text"},"Card Color: "+a.cardColor),r.a.createElement("p",{className:"card-text"},"Card Type: "+a.cardType),r.a.createElement("p",{className:"card-text"},"Card Rarity: "+a.cardRarity),r.a.createElement("p",{className:"card-text"},"Effect: "+a.effect),r.a.createElement("p",{className:"card-text"},"Inherited Effect: "+a.digivolveEffect),r.a.createElement("p",{className:"card-text"},"Security Effect: "+a.securityEffect))))))),r.a.createElement(p.a,{addonType:"append"},r.a.createElement("button",{className:"btn btn-danger",onClick:function(){!function(a){e.removeEggCard(a)}(t)}},"-")),r.a.createElement(p.a,{addonType:"append"},r.a.createElement(E.a,{className:"bg-dark text-white"}," ",a.count," ")),r.a.createElement(p.a,{addonType:"append"},r.a.createElement("button",{className:"btn btn-success",onClick:function(){!function(a){e.addEggCard(a)}(a)}},"+"))))}))}function X(e){return e.deck.decklist.map((function(a,t){var c=function(e){switch(e){case"Black":return["Black","White"];case"Blue":return["#0097f4","White"];case"Green":return["#009c6b","White"];case"Purple":return["#6456a3","White"];case"Red":return["#e6002c","White"];case"White":return["White","Black"];case"Yellow":return["#ffff00","Black"];default:return["White","Black"]}}(a.cardColor),l=Object(o.a)(c,2),n=l[0],s=l[1];return r.a.createElement(L.a,{className:"deck-row",key:a.cardNo+a.cardName,row:!0},r.a.createElement(u.a,null,r.a.createElement(g.a,{value:a.cardNo+" "+a.cardName,id:a.cardNo+"row",style:{backgroundColor:n,color:s},disabled:!0}),r.a.createElement(R.a,{delay:{show:250},className:"card-builder-popover",boundariesElement:"body",placement:"auto",trigger:"hover",target:a.cardNo+"row"},r.a.createElement(W.a,{className:"bg-dark text-white"},a.cardNo+" "+a.cardName),r.a.createElement(M.a,{className:"bg-dark text-white"},r.a.createElement("div",{className:"card bg-dark text-white text-left",key:a.cardNo},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-md-5"},r.a.createElement("div",{className:"popover-card-body-image"},r.a.createElement("a",{href:"/#",id:a.cardNo+"link",onClick:function(e){e.preventDefault()}},r.a.createElement("img",{src:a.src,className:"card-img",alt:"..."})))),r.a.createElement("div",{className:"col-md-7"},r.a.createElement("div",{className:"popover-card-body-text"},r.a.createElement("p",{className:"card-text"},"Card Color: "+a.cardColor),r.a.createElement("p",{className:"card-text"},"Card Type: "+a.cardType),r.a.createElement("p",{className:"card-text"},"Card Rarity: "+a.cardRarity),r.a.createElement("p",{className:"card-text"},"Effect: "+a.effect),r.a.createElement("p",{className:"card-text"},"Inherited Effect: "+a.digivolveEffect),r.a.createElement("p",{className:"card-text"},"Security Effect: "+a.securityEffect))))))),r.a.createElement(p.a,{addonType:"append"},r.a.createElement("button",{className:"btn btn-danger",onClick:function(){!function(a){e.removeCard(a)}(t)}},"-")),r.a.createElement(p.a,{addonType:"append"},r.a.createElement(E.a,{className:"bg-dark text-white"}," ",a.count," ")),r.a.createElement(p.a,{addonType:"append"},r.a.createElement("button",{className:"btn btn-success",onClick:function(){!function(a){e.addCard(a)}(a)}},"+"))))}))}var Z=function(e){var a=Object(c.useState)(!0),t=Object(o.a)(a,2),l=t[0],n=t[1],s=Object(c.useState)(!0),d=Object(o.a)(s,2),i=d[0],v=d[1],N=Object(c.useState)(!0),k=Object(o.a)(N,2),b=k[0],y=k[1],h=Object(w.g)();return r.a.createElement("div",{className:"deckMenu"},r.a.createElement(m.a,{className:"deckPanel",id:"deckPanel",onSubmit:function(e){e.preventDefault()}},r.a.createElement("div",{className:"deckInfo"},r.a.createElement("div",{className:"titleButton"},r.a.createElement("button",{type:"button",className:"btn btn-dark",onClick:function(){n(!l)}},"Deck Info")),r.a.createElement(f.a,{isOpen:l},r.a.createElement("div",{className:"deck-info-container col"},r.a.createElement(L.a,{row:!0,style:{margin:0}},r.a.createElement(u.a,null,r.a.createElement(p.a,{addonType:"prepend"},r.a.createElement(E.a,{className:"bg-dark text-white"}," Deck Title ")),r.a.createElement(g.a,{className:"bg-dark text-white",id:"deckTitle",value:e.title,onChange:function(a){e.changeTitle(a.target.value)}})),r.a.createElement(u.a,null,r.a.createElement(g.a,{className:"bg-dark text-white",value:"Private",id:"private",disabled:!0}),r.a.createElement(p.a,{addonType:"append"},r.a.createElement(E.a,{className:"bg-dark text-white"},r.a.createElement(g.a,{addon:!0,type:"checkbox",id:"privacy",checked:e.privacy,onChange:function(a){e.changePrivacy(a.target.checked)}})))))))),r.a.createElement("div",{className:"mainDeck"},r.a.createElement("div",{className:"titleButton"},r.a.createElement("button",{type:"button",className:"btn btn-dark",onClick:function(){v(!i)}},"Main Deck: ",e.deck.count)),r.a.createElement(f.a,{isOpen:i},r.a.createElement("div",{className:"deck-list-container col"},r.a.createElement(X,e)))),r.a.createElement("div",{className:"digiEggDeck"},r.a.createElement("div",{className:"titleButton"},r.a.createElement("button",{type:"button",className:"btn btn-dark",onClick:function(){y(!b)}},"Digi-Egg Deck: ",e.eggDeck.count)),r.a.createElement(f.a,{isOpen:b},r.a.createElement("div",{className:"egg-deck-list-container col"},r.a.createElement(H,e)))),r.a.createElement("div",{className:"deckPanel-buttons col"},r.a.createElement(L.a,{row:!0},r.a.createElement("div",{className:"btn-group-vertical w-100"},r.a.createElement("div",{className:"col btn-group"},r.a.createElement("button",{type:"button",className:"btn w-50 btn-danger",onClick:function(){e.clearData(),e.setDeck({decklist:[],deckInfo:{colors:{},cardTypes:{},levels:{}},count:0}),e.setEggDeck({decklist:[],deckInfo:{colors:{}},count:0})}},"Clear"),r.a.createElement("button",{type:"button",className:"btn w-50 btn-warning",onClick:function(){if(e.userDetails.username)if(0!==e.deck.count||0!==e.eggDeck.count){for(var a=document.getElementById("deckTitle").value.trim(),t=document.getElementById("privacy").checked,c=e.deck.deckInfo,r=e.eggDeck.deckInfo,l={},n={},o={},s={},d=[],i=0;i<e.deck.decklist.length;i++)d.push({id:e.deck.decklist[i].id,count:e.deck.decklist[i].count});for(var m=[],u=0;u<e.eggDeck.decklist.length;u++)m.push({id:e.eggDeck.decklist[u].id,count:e.eggDeck.decklist[u].count});Object.keys(c.cardTypes).sort().forEach((function(e){var a={},t=c.cardTypes[e].count;Object.keys(c.cardTypes[e].colors).sort().forEach((function(t){a[t]=c.cardTypes[e].colors[t]})),l[e]={colors:a,count:t}})),Object.keys(c.colors).sort().forEach((function(e){n[e]=c.colors[e]})),Object.keys(c.levels).sort().forEach((function(e){var a={},t=c.levels[e].count;Object.keys(c.levels[e].colors).sort().forEach((function(t){a[t]=c.levels[e].colors[t]})),o[e]={colors:a,count:t}})),Object.keys(r.colors).sort().forEach((function(e){s[e]=r.colors[e]})),c.cardTypes=l,c.colors=n,c.levels=o,r.colors=s;var p={mainDeck:d,mainDeckInfo:c,mainDeckCount:e.deck.count,eggDeck:m,eggDeckInfo:r,eggDeckCount:e.eggDeck.count,status:"Incomplete",title:a,privacy:t,user:e.userDetails.username};e.service.Post("/decks/submit",p,(function(){alert("Deck Saved"),e.clearData(),h.push("/mydecks"),e.onNavigate(null)}),(function(e){alert(e)}))}else alert("Please add a card first");else alert("Log in to save this list")}},"Save for Later")),r.a.createElement("div",{className:"col btn-group"},r.a.createElement("button",{type:"button",className:"btn w-100 btn-success",onClick:function(){if(e.userDetails.username)if(e.deck.count<50)alert("Not enough cards in the Main Deck. Either add 50 cards to the Main Deck or click Save for Later.");else{for(var a=document.getElementById("deckTitle").value.trim(),t=document.getElementById("privacy").checked,c=e.deck.deckInfo,r=e.eggDeck.deckInfo,l={},n={},o={},s={},d=[],i=0;i<e.deck.decklist.length;i++)d.push({id:e.deck.decklist[i].id,count:e.deck.decklist[i].count});for(var m=[],u=0;u<e.eggDeck.decklist.length;u++)m.push({id:e.eggDeck.decklist[u].id,count:e.eggDeck.decklist[u].count});Object.keys(c.cardTypes).sort().forEach((function(e){var a={},t=c.cardTypes[e].count;Object.keys(c.cardTypes[e].colors).sort().forEach((function(t){a[t]=c.cardTypes[e].colors[t]})),l[e]={colors:a,count:t}})),Object.keys(c.colors).sort().forEach((function(e){n[e]=c.colors[e]})),Object.keys(c.levels).sort().forEach((function(e){var a={},t=c.levels[e].count;Object.keys(c.levels[e].colors).sort().forEach((function(t){a[t]=c.levels[e].colors[t]})),o[e]={colors:a,count:t}})),Object.keys(r.colors).sort().forEach((function(e){s[e]=r.colors[e]})),c.cardTypes=l,c.colors=n,c.levels=o,r.colors=s;var p={mainDeck:d,mainDeckInfo:c,mainDeckCount:e.deck.count,eggDeck:m,eggDeckInfo:r,eggDeckCount:e.eggDeck.count,status:"Complete",title:a,privacy:t,user:e.userDetails.username};e.service.Post("/decks/submit",p,(function(){alert("Deck Saved"),e.clearData(),h.push("/mydecks"),e.onNavigate(null)}),(function(e){alert(e)}))}else alert("Log in to save this list")}},"Submit")))))))};var $=function(e){var a=Object(c.useState)([]),t=Object(o.a)(a,2),l=t[0],n=t[1],s=Object(c.useState)(1),d=Object(o.a)(s,2),i=d[0],m=d[1],u=Object(c.useState)(1),p=Object(o.a)(u,2),E=p[0],g=p[1],f=e.setDisplay,v=e.setPageName;function N(){return function(e,a){return e.cardNo>a.cardNo?1:-1}}if(null==sessionStorage.getItem("deckBuilderData")){sessionStorage.setItem("deckBuilderData",JSON.stringify({mainDeck:{decklist:[],deckInfo:{colors:{},cardTypes:{},levels:{}},count:0},eggDeck:{decklist:[],deckInfo:{colors:{}},count:0},title:"",privacy:!1}))}var k=Object(c.useState)(JSON.parse(sessionStorage.getItem("deckBuilderData")).mainDeck),b=Object(o.a)(k,2),y=b[0],h=b[1],w=Object(c.useState)(JSON.parse(sessionStorage.getItem("deckBuilderData")).eggDeck),C=Object(o.a)(w,2),x=C[0],I=C[1],S=Object(c.useState)(JSON.parse(sessionStorage.getItem("deckBuilderData")).title),D=Object(o.a)(S,2),T=D[0],O=D[1],P=Object(c.useState)(JSON.parse(sessionStorage.getItem("deckBuilderData")).privacy),j=Object(o.a)(P,2),B=j[0],L=j[1],R=Math.floor(5);function W(e){if(console.log(y),console.log(e),y.count<50){var a=y.decklist.findIndex((function(a){return a.cardNo===e.cardNo})),t=e.cardColor,c=Object(Y.a)({},y.deckInfo);if(a>-1){var r=Object(U.a)(y.decklist);r[a].count<4&&(c.colors[t]?c.colors[t]+=1:c.colors[t]=1,c.cardTypes[e.cardType]?(c.cardTypes[e.cardType].colors?c.cardTypes[e.cardType].colors[t]?c.cardTypes[e.cardType].colors[t]+=1:c.cardTypes[e.cardType].colors[t]=1:c.cardTypes[e.cardType].colors=Object(A.a)({},t,1),c.cardTypes[e.cardType].count+=1):c.cardTypes[e.cardType]={colors:Object(A.a)({},t,1),count:1},c.levels[e.cardLv]?(c.levels[e.cardLv].colors?c.levels[e.cardLv].colors[t]?c.levels[e.cardLv].colors[t]+=1:c.levels[e.cardLv].colors[t]=1:c.levels[e.cardLv].colors=Object(A.a)({},t,1),c.levels[e.cardLv].count+=1):c.levels[e.cardLv]={colors:Object(A.a)({},t,1),count:1},r[a].count=r[a].count+1,h({decklist:r.sort((function(e,a){return e.cardColor>a.cardColor?1:e.cardColor<a.cardColor?-1:e.cardType>a.cardType?1:e.cardType<a.cardType?-1:e.cardLv>a.cardLv?1:e.cardLv<a.cardLv?-1:e.cardName>a.cardName?1:e.cardName<a.cardName?-1:e.cardNo>a.cardNo?1:e.cardNo<a.cardNo?-1:0})),deckInfo:c,count:y.count+1}),sessionStorage.setItem("deckBuilderData",JSON.stringify({mainDeck:{decklist:r.sort((function(e,a){return e.cardColor>a.cardColor?1:e.cardColor<a.cardColor?-1:e.cardType>a.cardType?1:e.cardType<a.cardType?-1:e.cardLv>a.cardLv?1:e.cardLv<a.cardLv?-1:e.cardName>a.cardName?1:e.cardName<a.cardName?-1:e.cardNo>a.cardNo?1:e.cardNo<a.cardNo?-1:0})),deckInfo:c,count:y.count+1},eggDeck:x,title:T,privacy:B})))}else c.colors[t]?c.colors[t]+=1:c.colors[t]=1,c.cardTypes[e.cardType]?(c.cardTypes[e.cardType].colors?c.cardTypes[e.cardType].colors[t]?c.cardTypes[e.cardType].colors[t]+=1:c.cardTypes[e.cardType].colors[t]=1:c.cardTypes[e.cardType].colors=Object(A.a)({},t,1),c.cardTypes[e.cardType].count+=1):c.cardTypes[e.cardType]={colors:Object(A.a)({},t,1),count:1},c.levels[e.cardLv]?(c.levels[e.cardLv].colors?c.levels[e.cardLv].colors[t]?c.levels[e.cardLv].colors[t]+=1:c.levels[e.cardLv].colors[t]=1:c.levels[e.cardLv].colors=Object(A.a)({},t,1),c.levels[e.cardLv].count+=1):c.levels[e.cardLv]={colors:Object(A.a)({},t,1),count:1},e.count=1,h({decklist:[].concat(Object(U.a)(y.decklist),[e]).sort((function(e,a){return e.cardColor>a.cardColor?1:e.cardColor<a.cardColor?-1:e.cardType>a.cardType?1:e.cardType<a.cardType?-1:e.cardLv>a.cardLv?1:e.cardLv<a.cardLv?-1:e.cardName>a.cardName?1:e.cardName<a.cardName?-1:e.cardNo>a.cardNo?1:e.cardNo<a.cardNo?-1:0})),deckInfo:c,count:y.count+1}),sessionStorage.setItem("deckBuilderData",JSON.stringify({mainDeck:{decklist:[].concat(Object(U.a)(y.decklist),[e]).sort((function(e,a){return e.cardColor>a.cardColor?1:e.cardColor<a.cardColor?-1:e.cardType>a.cardType?1:e.cardType<a.cardType?-1:e.cardLv>a.cardLv?1:e.cardLv<a.cardLv?-1:e.cardName>a.cardName?1:e.cardName<a.cardName?-1:e.cardNo>a.cardNo?1:e.cardNo<a.cardNo?-1:0})),deckInfo:c,count:y.count+1},eggDeck:x,title:T,privacy:B}))}}function M(e){if(x.count<5){var a=x.decklist.findIndex((function(a){return a.cardNo===e.cardNo})),t=Object(Y.a)({},x.deckInfo);if(a>-1){t.colors[e.cardColor]?t.colors[e.cardColor]+=1:t.colors[e.cardColor]=1;var c=Object(U.a)(x.decklist);c[a].count<4&&(c[a].count=c[a].count+1,I({decklist:c.sort((function(e,a){return e.cardColor>a.cardColor?1:e.cardColor<a.cardColor?-1:e.cardType>a.cardType?1:e.cardType<a.cardType?-1:e.cardLv>a.cardLv?1:e.cardLv<a.cardLv?-1:e.cardName>a.cardName?1:e.cardName<a.cardName?-1:e.cardNo>a.cardNo?1:e.cardNo<a.cardNo?-1:0})),deckInfo:t,count:x.count+1}),sessionStorage.setItem("deckBuilderData",JSON.stringify({mainDeck:y,eggDeck:{decklist:c.sort((function(e,a){return e.cardColor>a.cardColor?1:e.cardColor<a.cardColor?-1:e.cardType>a.cardType?1:e.cardType<a.cardType?-1:e.cardLv>a.cardLv?1:e.cardLv<a.cardLv?-1:e.cardName>a.cardName?1:e.cardName<a.cardName?-1:e.cardNo>a.cardNo?1:e.cardNo<a.cardNo?-1:0})),deckInfo:t,count:x.count+1},title:T,privacy:B})))}else t.colors[e.cardColor]?t.colors[e.cardColor]+=1:t.colors[e.cardColor]=1,e.count=1,I({decklist:[].concat(Object(U.a)(x.decklist),[e]).sort((function(e,a){return e.cardColor>a.cardColor?1:e.cardColor<a.cardColor?-1:e.cardType>a.cardType?1:e.cardType<a.cardType?-1:e.cardLv>a.cardLv?1:e.cardLv<a.cardLv?-1:e.cardName>a.cardName?1:e.cardName<a.cardName?-1:e.cardNo>a.cardNo?1:e.cardNo<a.cardNo?-1:0})),deckInfo:t,count:x.count+1}),sessionStorage.setItem("deckBuilderData",JSON.stringify({mainDeck:y,eggDeck:{decklist:[].concat(Object(U.a)(x.decklist),[e]).sort((function(e,a){return e.cardColor>a.cardColor?1:e.cardColor<a.cardColor?-1:e.cardType>a.cardType?1:e.cardType<a.cardType?-1:e.cardLv>a.cardLv?1:e.cardLv<a.cardLv?-1:e.cardName>a.cardName?1:e.cardName<a.cardName?-1:e.cardNo>a.cardNo?1:e.cardNo<a.cardNo?-1:0})),deckInfo:t,count:x.count+1},title:T,privacy:B}))}}var V=Object(c.useCallback)((function(a){var t=Date.now();if(null==sessionStorage.getItem("cardData"))e.service.Get("/cards/",{},(function(e){if(a){var t={created:Date.now(),data:e};sessionStorage.setItem("cardData",JSON.stringify(t));var c=JSON.parse(sessionStorage.getItem("cardData")).data;n(c.sort((function(e,a){return e.cardNo>a.cardNo?1:-1}))),m(Math.ceil(c.length/30)),f("none")}}),(function(e){f("none"),console.log(e)}));else if(t-JSON.parse(sessionStorage.getItem("cardData")).created>=432e5)e.service.Get("/cards/",{},(function(e){if(a){var t={created:Date.now(),data:e};sessionStorage.setItem("cardData",JSON.stringify(t));var c=JSON.parse(sessionStorage.getItem("cardData")).data;n(c.sort((function(e,a){return e.cardNo>a.cardNo?1:-1}))),m(Math.ceil(c.length/30)),f("none")}}),(function(e){f("none"),console.log(e)}));else if(a){var c=JSON.parse(sessionStorage.getItem("cardData")).data;n(c.sort((function(e,a){return e.cardNo>a.cardNo?1:-1}))),m(Math.ceil(c.length/30)),f("none")}}),[e.service,30,f]);return Object(c.useEffect)((function(){v("Deck Builder");var e=!0;return e&&V(e),function(){return e=!1}}),[V,v]),r.a.createElement("div",{className:"container-fluid d-flex flex-row flex-wrap flex-start"},r.a.createElement("div",{className:"flex-column col-lg-4 col-md-4 col-sm-12 deck-list"},r.a.createElement(Z,Object.assign({},e,{clearData:function(){sessionStorage.setItem("deckBuilderData",JSON.stringify({mainDeck:{decklist:[],deckInfo:{colors:{},cardTypes:{},levels:{}},count:0},eggDeck:{decklist:[],deckInfo:{colors:{}},count:0},title:"",privacy:!1})),h(JSON.parse(sessionStorage.getItem("deckBuilderData")).mainDeck),I(JSON.parse(sessionStorage.getItem("deckBuilderData")).eggDeck),O(JSON.parse(sessionStorage.getItem("deckBuilderData")).title),L(JSON.parse(sessionStorage.getItem("deckBuilderData")).privacy)},setCards:n,setPages:m,setPage:g,cardsInRow:6,cardsPerPage:30,rowsPerPage:R,addCard:W,removeCard:function(e){var a=y.decklist[e],t=Object(U.a)(y.decklist);if(e<t.length){var c=Object(Y.a)({},y.deckInfo);1===c.colors[a.cardColor]?delete c.colors[a.cardColor]:c.colors[a.cardColor]-=1,1===c.cardTypes[a.cardType].colors[a.cardColor]?delete c.cardTypes[a.cardType].colors[a.cardColor]:c.cardTypes[a.cardType].colors[a.cardColor]-=1,1===c.cardTypes[a.cardType].count?delete c.cardTypes[a.cardType]:c.cardTypes[a.cardType].count-=1,1===c.levels[a.cardLv].colors[a.cardColor]?delete c.levels[a.cardLv].colors[a.cardColor]:c.levels[a.cardLv].colors[a.cardColor]-=1,1===c.levels[a.cardLv].count?delete c.levels[a.cardLv]:c.levels[a.cardLv].count-=1,t[e].count>1?t[e].count=t[e].count-1:t.splice(e,1),h({decklist:t.sort((function(e,a){return e.cardColor>a.cardColor?1:e.cardColor<a.cardColor?-1:e.cardType>a.cardType?1:e.cardType<a.cardType?-1:e.cardLv>a.cardLv?1:e.cardLv<a.cardLv?-1:e.cardName>a.cardName?1:e.cardName<a.cardName?-1:e.cardNo>a.cardNo?1:e.cardNo<a.cardNo?-1:0})),deckInfo:c,count:y.count-1}),sessionStorage.setItem("deckBuilderData",JSON.stringify({mainDeck:{decklist:t.sort((function(e,a){return e.cardColor>a.cardColor?1:e.cardColor<a.cardColor?-1:e.cardType>a.cardType?1:e.cardType<a.cardType?-1:e.cardLv>a.cardLv?1:e.cardLv<a.cardLv?-1:e.cardName>a.cardName?1:e.cardName<a.cardName?-1:e.cardNo>a.cardNo?1:e.cardNo<a.cardNo?-1:0})),deckInfo:c,count:y.count-1},eggDeck:x,title:T,privacy:B}))}},deck:y,setDeck:h,addEggCard:M,removeEggCard:function(e){var a=x.decklist[e],t=Object(U.a)(x.decklist);if(e<t.length){var c=Object(Y.a)({},x.deckInfo);1===c.colors[a.cardColor]?delete c.colors[a.cardColor]:c.colors[a.cardColor]-=1,t[e].count>1?t[e].count=t[e].count-1:t.splice(e,1),I({decklist:t.sort((function(e,a){return e.cardColor>a.cardColor?1:e.cardColor<a.cardColor?-1:e.cardType>a.cardType?1:e.cardType<a.cardType?-1:e.cardLv>a.cardLv?1:e.cardLv<a.cardLv?-1:e.cardName>a.cardName?1:e.cardName<a.cardName?-1:e.cardNo>a.cardNo?1:e.cardNo<a.cardNo?-1:0})),deckInfo:c,count:x.count-1}),sessionStorage.setItem("deckBuilderData",JSON.stringify({mainDeck:y,eggDeck:{decklist:t.sort((function(e,a){return e.cardColor>a.cardColor?1:e.cardColor<a.cardColor?-1:e.cardType>a.cardType?1:e.cardType<a.cardType?-1:e.cardLv>a.cardLv?1:e.cardLv<a.cardLv?-1:e.cardName>a.cardName?1:e.cardName<a.cardName?-1:e.cardNo>a.cardNo?1:e.cardNo<a.cardNo?-1:0})),deckInfo:c,count:x.count-1},title:T,privacy:B}))}},eggDeck:x,setEggDeck:I,title:T,changeTitle:function(e){O(e),sessionStorage.setItem("deckBuilderData",JSON.stringify({mainDeck:y,eggDeck:x,title:e,privacy:B}))},privacy:B,changePrivacy:function(e){L(e),sessionStorage.setItem("deckBuilderData",JSON.stringify({mainDeck:y,eggDeck:x,title:T,privacy:e}))}}))),r.a.createElement("div",{className:"d-flex flex-column col-lg-8 col-md-8 col-sm-12 db-cards-filter-container"},r.a.createElement("div",{className:"filterWrapper-top row d-flex"},r.a.createElement(q,{sortCards:N,userDetails:e.userDetails,service:e.service,setCards:n,setPages:m,setPage:g,cardsInRow:6,cardsPerPage:30,rowsPerPage:R})),r.a.createElement("div",{className:"d-flex flex-column flex-grow-1 cardsWrapper"},r.a.createElement(_,{service:e.service,cards:l,pages:i,page:E,setPage:g,cardsInRow:6,cardsPerPage:30,rowsPerPage:R,addCard:W,addEggCard:M}))))};var K=function(e){var a=Object(c.useState)(),t=Object(o.a)(a,2),l=t[0],n=t[1],s=Object(c.useState)(!1),d=Object(o.a)(s,2),i=d[0],v=d[1],N=Object(c.useCallback)((function(a){e.service.Get("/cards/cardNo",{},(function(e){if(a){var t=e.map((function(e){return r.a.createElement("option",{key:"no"+e.cardNo,value:e.cardNo},e.cardNo+" "+e.cardName)}));n(t)}}),(function(e){console.log(e),n("")}))}),[e.service]);return Object(c.useEffect)((function(){var e=!0;return e&&N(e),function(){return e=!1}}),[N]),r.a.createElement("div",{className:"FilterMenu filterMenu-left"},r.a.createElement(m.a,{className:"px-4 py-3",id:"filter",onSubmit:function(a){a.preventDefault(),e.setPage(1),function(){var a=document.getElementById("deckTitleInput").value.trim(),t=document.getElementById("usernameInput").value.trim(),c=document.getElementById("cardNameInput").value.trim(),r=document.getElementById("cardNoSelect").value;"default"===r&&(r="");var l=[],n=document.getElementById("andCheckbox").checked;document.getElementById("blackCheckbox").checked&&l.push("Black"),document.getElementById("blueCheckbox").checked&&l.push("Blue"),document.getElementById("greenCheckbox").checked&&l.push("Green"),document.getElementById("purpleCheckbox").checked&&l.push("Purple"),document.getElementById("redCheckbox").checked&&l.push("Red"),document.getElementById("whiteCheckbox").checked&&l.push("White"),document.getElementById("yellowCheckbox").checked&&l.push("Yellow");var o=[];if(!(r||c||t||a||l.length>0))return o=JSON.parse(sessionStorage.getItem("deckData")).data,e.setDecks(o),e.setPages(Math.ceil(o.length/e.decksPerPage)),void e.setPage(1);o=JSON.parse(sessionStorage.getItem("deckData")).data.filter((function(e){var o=!0;if(r&&(o=o&&(e.mainDeck.filter((function(e){return e.cardNo===r}))||e.eggDeck.filter((function(e){return e.cardNo===r})))),c&&(o=o&&(e.mainDeck.filter((function(e){return e.cardName.toLowerCase()===c.toLowerCase()}))||e.eggDeck.filter((function(e){return e.cardName.toLowerCase()===c.toLowerCase()})))),t&&(o=o&&e.user.toLowerCase()===t.toLowerCase()),a&&(o=o&&e.title.toLowerCase().includes(a.toLowerCase())),l.length>0){var s=!1;if(n){s=!0;for(var d=0;d<l.length;d++)if(!e.mainDeckInfo.colors.hasOwnProperty(l[d])&&!e.eggDeckInfo.colors.hasOwnProperty(l[d])){s=!1;break}}else for(var i=0;i<l.length;i++)if(e.mainDeckInfo.colors.hasOwnProperty(l[i])||e.eggDeckInfo.colors.hasOwnProperty(l[i])){s=!0;break}o=o&&s}return o})),e.setDecks(o),e.setPages(Math.ceil(o.length/e.decksPerPage)),e.setPage(1)}()}},r.a.createElement("h5",null," Filter Decks "),r.a.createElement(L.a,{row:!0},r.a.createElement(u.a,null,r.a.createElement(p.a,{addonType:"prepend"},r.a.createElement(E.a,{className:"bg-dark text-white"}," Deck Title ")),r.a.createElement(g.a,{className:"bg-dark text-white",name:"deckTitleInput",sm:"8",id:"deckTitleInput",placeholder:"Search by Deck Title"}),r.a.createElement(p.a,{addonType:"append"},r.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){v(!i)}},"Show more filters")))),r.a.createElement(f.a,{isOpen:i},r.a.createElement(L.a,{row:!0},r.a.createElement(u.a,null,r.a.createElement(p.a,{addonType:"prepend"},r.a.createElement(E.a,{className:"bg-dark text-white"}," Username ")),r.a.createElement(g.a,{className:"bg-dark text-white",name:"usernameInput",sm:"8",id:"usernameInput",placeholder:"Search by Username"}))),r.a.createElement(L.a,{row:!0},r.a.createElement(u.a,null,r.a.createElement(p.a,{addonType:"prepend"},r.a.createElement(E.a,{className:"bg-dark text-white"}," Card Name ")),r.a.createElement(g.a,{className:"bg-dark text-white",name:"cardNameInput",sm:"8",id:"cardNameInput",placeholder:"Search by Card Name"}))),r.a.createElement(L.a,{row:!0},r.a.createElement(u.a,null,r.a.createElement(p.a,{addonType:"prepend"},r.a.createElement(E.a,{className:"bg-dark text-white"}," Card No. ")),r.a.createElement(g.a,{className:"bg-dark text-white",type:"select",name:"cardNoSelect",sm:"8",id:"cardNoSelect",defaultValue:"default"},r.a.createElement("option",{value:"default"}," -Card No.- "),l))),r.a.createElement(L.a,{row:!0},r.a.createElement(u.a,null,r.a.createElement(g.a,{className:"bg-dark text-white",value:"Colors",id:"colors",style:{textAlign:"center"},disabled:!0}),r.a.createElement(p.a,{addonType:"append"},r.a.createElement(E.a,{className:"bg-dark text-white"},"AND"),r.a.createElement(E.a,{className:"bg-dark text-white"},r.a.createElement(g.a,{addon:!0,type:"checkbox",id:"andCheckbox"})))),r.a.createElement(u.a,null,r.a.createElement(g.a,{value:"Black",id:"black",style:{backgroundColor:"Black",color:"White"},disabled:!0}),r.a.createElement(p.a,{addonType:"append"},r.a.createElement(E.a,{style:{backgroundColor:"Black"}},r.a.createElement(g.a,{addon:!0,type:"checkbox",id:"blackCheckbox"})))),r.a.createElement(u.a,null,r.a.createElement(g.a,{value:"Blue",id:"blue",style:{backgroundColor:"#0097f4",color:"White"},disabled:!0}),r.a.createElement(p.a,{addonType:"append"},r.a.createElement(E.a,{style:{backgroundColor:"#0097f4"}},r.a.createElement(g.a,{addon:!0,type:"checkbox",id:"blueCheckbox"})))),r.a.createElement(u.a,null,r.a.createElement(g.a,{value:"Green",id:"green",style:{backgroundColor:"#009c6b",color:"White"},disabled:!0}),r.a.createElement(p.a,{addonType:"append"},r.a.createElement(E.a,{style:{backgroundColor:"#009c6b"}},r.a.createElement(g.a,{addon:!0,type:"checkbox",id:"greenCheckbox"})))),r.a.createElement(u.a,null,r.a.createElement(g.a,{value:"Purple",id:"purple",style:{backgroundColor:"#6456a3",color:"White"},disabled:!0}),r.a.createElement(p.a,{addonType:"append"},r.a.createElement(E.a,{style:{backgroundColor:"#6456a3"}},r.a.createElement(g.a,{addon:!0,type:"checkbox",id:"purpleCheckbox"})))),r.a.createElement(u.a,null,r.a.createElement(g.a,{value:"Red",id:"red",style:{backgroundColor:"#e6002c",color:"White"},disabled:!0}),r.a.createElement(p.a,{addonType:"append"},r.a.createElement(E.a,{style:{backgroundColor:"#e6002c"}},r.a.createElement(g.a,{addon:!0,type:"checkbox",id:"redCheckbox"})))),r.a.createElement(u.a,null,r.a.createElement(g.a,{value:"White",id:"white",style:{backgroundColor:"White",color:"Black"},disabled:!0}),r.a.createElement(p.a,{addonType:"append"},r.a.createElement(E.a,{style:{backgroundColor:"White"}},r.a.createElement(g.a,{addon:!0,type:"checkbox",id:"whiteCheckbox"})))),r.a.createElement(u.a,null,r.a.createElement(g.a,{value:"Yellow",id:"yellow",style:{backgroundColor:"#ffff00",color:"Black"},disabled:!0}),r.a.createElement(p.a,{addonType:"append"},r.a.createElement(E.a,{style:{backgroundColor:"#ffff00"}},r.a.createElement(g.a,{addon:!0,type:"checkbox",id:"yellowCheckbox"})))))),r.a.createElement(L.a,{row:!0},r.a.createElement("div",{className:"btn-group w-100",role:"group"},r.a.createElement("button",{type:"button",className:"btn w-50 btn-danger",onClick:function(){document.getElementById("cardNoSelect").value="default",document.getElementById("deckTitleInput").value="",document.getElementById("cardNameInput").value="",document.getElementById("usernameInput").value="",document.getElementById("andCheckbox").checked=!1,document.getElementById("blackCheckbox").checked=!1,document.getElementById("blueCheckbox").checked=!1,document.getElementById("greenCheckbox").checked=!1,document.getElementById("purpleCheckbox").checked=!1,document.getElementById("redCheckbox").checked=!1,document.getElementById("whiteCheckbox").checked=!1,document.getElementById("yellowCheckbox").checked=!1}},"Clear"),r.a.createElement("button",{type:"submit",className:"btn w-50 btn-success"},"Filter")))))},Q=t(12);function ee(e){return r.a.createElement("div",{className:"col"},function(){var a=e.decks.slice(e.decksPerPage*(e.page-1),e.decks.length<e.decksPerPage*e.page?e.decks.length:e.decksPerPage*e.page),t=0;t=a.length<e.rowsPerPage?a.length:e.rowsPerPage;for(var c=[],l=1;l<=t;l++)c.push(r.a.createElement("div",{className:"row decks-row",key:l},a.slice((l-1)*e.decksInRow,l*e.decksInRow).map((function(a){if(!a.privacy&&"Complete"===a.status){var t=Object.keys(a.mainDeckInfo.colors);t=t.concat(Object.keys(a.eggDeckInfo.colors)),t=new Set(t),t=Array.from(t).join(", ");var c=Date.parse(a.update);return c=(c=new Date(c)).getMonth()+1+"/"+c.getDate()+"/"+c.getFullYear()+", "+c.getHours()+":"+(c.getMinutes()<10?"0":"")+c.getMinutes(),r.a.createElement("div",{className:"col",id:a.id,key:a.id},r.a.createElement("div",{className:"card text-white bg-dark text-left"},r.a.createElement(Q.b,{className:"text-white",to:"/decklist/"+a.id,onClick:function(){e.onNavigate(a)}},r.a.createElement("div",{className:"card-block"},r.a.createElement("div",{className:"card-header"},a.title+"  by "+a.user+" on "+c),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"card-body"},r.a.createElement("p",{className:"card-text"},"Colors: "+t))))))))}return r.a.createElement(r.a.Fragment,null)}))));return c}())}var ae=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row justify-content-center align-items-center pagination-top"},r.a.createElement(k.a,{previousLabel:"previous",nextLabel:"next",breakLabel:"...",breakClassName:"page-item disabled",breakLinkClassName:"page-link text-white bg-dark",pageCount:e.pages,marginPagesDisplayed:1,pageRangeDisplayed:3,onPageChange:function(a){e.setPage(a.selected+1)},containerClassName:"pagination",pageClassName:"page-item",forcePage:e.page-1,pageLinkClassName:"page-link text-white bg-dark",previousClassName:"page-item",previousLinkClassName:"page-link text-white bg-dark",nextClassName:"page-item",nextLinkClassName:"page-link text-white bg-dark",activeClassName:"active"})),r.a.createElement("div",{className:"flex-row flex-grow-1 d-flex flex-nowrap decks-list-container"},r.a.createElement(ee,e)))};var te=function(e){var a=Object(c.useState)([]),t=Object(o.a)(a,2),l=t[0],n=t[1],s=Object(c.useState)(1),d=Object(o.a)(s,2),i=d[0],m=d[1],u=Object(c.useState)(1),p=Object(o.a)(u,2),E=p[0],g=p[1],f=Math.floor(5),v=e.setDisplay,N=e.setPageName,k=Object(c.useCallback)((function(a){v("block"),e.service.Get("/decks/deckdb",{},(function(e){if(a){var t={created:Date.now(),data:e};sessionStorage.setItem("deckData",JSON.stringify(t));var c=JSON.parse(sessionStorage.getItem("deckData")).data;n(c),m(Math.ceil(c.length/5)),v("none")}}),(function(e){v("none"),console.log(e)}))}),[e.service,5,v]);return Object(c.useEffect)((function(){N("Deck Database");var e=!0;return e&&k(e),function(){return e=!1}}),[k,N]),r.a.createElement("div",{className:"container-fluid d-flex flex-row flex-wrap flex-start"},r.a.createElement("div",{className:"filterMenuWrapper col-xl-4 col-lg-6 col-md-12 col-sm-12"},r.a.createElement(K,{service:e.service,setDecks:n,setPages:m,setPage:g,decksInRow:1,decksPerPage:5,rowsPerPage:f})),r.a.createElement("div",{className:"decksWrapper flex-grow-1 d-flex flex-column col-xl-8 col-lg-6 col-md-12 col-sm-12"},r.a.createElement(ae,Object.assign({},e,{decks:l,pages:i,page:E,setPage:g,decksInRow:1,decksPerPage:5,rowsPerPage:f}))))};var ce=function(e){var a=Object(c.useState)(),t=Object(o.a)(a,2),l=t[0],n=t[1],s=Object(c.useState)(),d=Object(o.a)(s,2),i=d[0],v=d[1],N=Object(c.useState)(),k=Object(o.a)(N,2),b=k[0],y=k[1],h=Object(c.useState)(!1),w=Object(o.a)(h,2),C=w[0],x=w[1],I=Object(c.useCallback)((function(a){e.service.Get("/cards/power",{},(function(e){if(a){var t=e.sort().map((function(e){return r.a.createElement("option",{key:"power"+e,value:e},e)}));n(t)}}),(function(e){console.log(e),n("")})),a&&(e.service.Get("/cards/sets",{},(function(e){if(a){var t=e.sort().map((function(e){return r.a.createElement("option",{key:"set"+e,value:e},e)}));v(t)}}),(function(e){console.log(e),v("")})),a&&e.service.Get("/cards/types",{},(function(e){if(a){var t=e.sort().map((function(e){return r.a.createElement("option",{key:"type"+e,value:e},e)}));y(t)}}),(function(e){console.log(e),y("")})))}),[e.service]);return Object(c.useEffect)((function(){var e=!0;return e&&I(e),function(){return e=!1}}),[I]),r.a.createElement("div",{className:"FilterMenu w-100"},r.a.createElement(m.a,{className:"px-4 py-3",id:"filter",onSubmit:function(a){a.preventDefault(),e.setPage(1),function(){var a=document.getElementById("searchInput").value.trim(),t=document.getElementById("attributeSelect").value;"default"===t&&(t="");var c=document.getElementById("cardLevelSelect").value;"default"===c&&(c="");var r=document.getElementById("cardNameInput").value.trim(),l=document.getElementById("cardTypeSelect").value;"default"===l&&(l="");var n=document.getElementById("colorSelect").value;"default"===n&&(n="");var o=document.getElementById("costSelect").value;"default"===o&&(o="");var s=document.getElementById("digivolveSelect").value;"default"===s&&(s="");var d=document.getElementById("formSelect").value;"default"===d&&(d="");var i=document.getElementById("playEffectInput").value.trim(),m=document.getElementById("powerSelect").value;"default"===m&&(m="");var u=document.getElementById("securityEffectInput").value.trim(),p=document.getElementById("setSelect").value;"default"===p&&(p="");var E=document.getElementById("typeSelect").value;"default"===E&&(E="");var g=document.getElementById("raritySelect").value;"default"===g&&(g="");var f=[];if(!(a||t||c||r||l||n||o||s||d||i||m||u||p||E||g))return f=JSON.parse(sessionStorage.getItem("cardData")).data,e.setCards(f),e.setPages(Math.ceil(f.length/e.cardsPerPage)),void e.setPage(1);f=JSON.parse(sessionStorage.getItem("cardData")).data.filter((function(e){var f=!0;return a&&(f=f&&e.fullText.toLowerCase().indexOf(a.toLowerCase())>-1),t&&(f=f&&e.attribute===t),c&&(f=f&&e.cardLv===c),r&&(f=f&&e.cardName.toLowerCase().indexOf(r.toLowerCase())>-1),l&&(f=f&&e.cardType===l),n&&(f=f&&e.cardColor===n),o&&(f=f&&e.playCost===o),s&&(f=f&&(e.digivolve1Cost===s||e.digivolve2Cost===s)),d&&(f=f&&e.form===d),i&&(f=f&&e.effect.toLowerCase().indexOf(i.toLowerCase())>-1),m&&(f=f&&e.digiPower===m),u&&(f=f&&e.securityEffect.toLowerCase().indexOf(u.toLowerCase())>-1),p&&(f=f&&e.setId===p),E&&(f=f&&e.type===E),g&&(f=f&&e.cardRarity===g),f})),e.setCards(f.sort(e.sortCards())),e.setPages(Math.ceil(f.length/e.cardsPerPage)),e.setPage(1)}()}},r.a.createElement("div",{className:"form-row d-flex"},r.a.createElement("div",{className:"form-group-filter-element w-100"},r.a.createElement("div",{className:"form-group"},r.a.createElement(u.a,null,r.a.createElement(p.a,{addonType:"prepend"},r.a.createElement(E.a,{className:"bg-dark text-white"}," All Text ")),r.a.createElement(g.a,{className:"bg-dark text-white",placeholder:"Search Card Text",id:"searchInput"}),r.a.createElement(p.a,{addonType:"append"},r.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){x(!C)}},"Show more filters")))))),r.a.createElement(f.a,{isOpen:C},r.a.createElement("div",{className:"d-flex form-row flex-wrap justify-content-left"},r.a.createElement("div",{className:"form-group-filter-element"},r.a.createElement("div",{className:"form-group"},r.a.createElement(u.a,null,r.a.createElement(p.a,{addonType:"prepend",sm:"4"},r.a.createElement(E.a,{className:"bg-dark text-white"}," Attribute ")),r.a.createElement(g.a,{className:"bg-dark text-white",type:"select",name:"attributeSelect",sm:"8",id:"attributeSelect",defaultValue:"default"},r.a.createElement("option",{value:"default"}," -Attribute- "),r.a.createElement("option",{value:"-"}," - "),r.a.createElement("option",{value:"Data"}," Data "),r.a.createElement("option",{value:"Free"}," Free "),r.a.createElement("option",{value:"Unknown"}," Unknown "),r.a.createElement("option",{value:"Vaccine"}," Vaccine "))))),r.a.createElement("div",{className:"form-group-filter-element"},r.a.createElement("div",{className:"form-group"},r.a.createElement(u.a,null,r.a.createElement(p.a,{addonType:"prepend"},r.a.createElement(E.a,{className:"bg-dark text-white"}," Card Level ")),r.a.createElement(g.a,{className:"bg-dark text-white",type:"select",name:"cardLevelSelect",sm:"8",id:"cardLevelSelect",defaultValue:"default"},r.a.createElement("option",{value:"default"}," -Card Level- "),r.a.createElement("option",{value:"-"}," - "),r.a.createElement("option",{value:"1"}," 1 "),r.a.createElement("option",{value:"2"}," 2 "),r.a.createElement("option",{value:"3"}," 3 "),r.a.createElement("option",{value:"4"}," 4 "),r.a.createElement("option",{value:"5"}," 5 "),r.a.createElement("option",{value:"6"}," 6 "),r.a.createElement("option",{value:"7"}," 7 "))))),r.a.createElement("div",{className:"form-group-filter-element"},r.a.createElement("div",{className:"form-group"},r.a.createElement(u.a,null,r.a.createElement(p.a,{addonType:"prepend"},r.a.createElement(E.a,{className:"bg-dark text-white"}," Card Name ")),r.a.createElement(g.a,{className:"bg-dark text-white",name:"cardNameInput",sm:"8",id:"cardNameInput",placeholder:"-Card Name-"})))),r.a.createElement("div",{className:"form-group-filter-element"},r.a.createElement("div",{className:"form-group"},r.a.createElement(u.a,null,r.a.createElement(p.a,{addonType:"prepend"},r.a.createElement(E.a,{className:"bg-dark text-white"}," Card Type ")),r.a.createElement(g.a,{className:"bg-dark text-white",type:"select",name:"cardTypeSelect",sm:"8",id:"cardTypeSelect",defaultValue:"default"},r.a.createElement("option",{value:"default"}," -Card Type- "),r.a.createElement("option",{value:"Digi-Egg"}," Digi-Egg "),r.a.createElement("option",{value:"Digimon"}," Digimon "),r.a.createElement("option",{value:"Option"}," Option "),r.a.createElement("option",{value:"Tamer"}," Tamer "))))),r.a.createElement("div",{className:"form-group-filter-element"},r.a.createElement("div",{className:"form-group"},r.a.createElement(u.a,null,r.a.createElement(p.a,{addonType:"prepend"},r.a.createElement(E.a,{className:"bg-dark text-white"}," Color ")),r.a.createElement(g.a,{className:"bg-dark text-white",type:"select",name:"colorSelect",sm:"8",id:"colorSelect",defaultValue:"default"},r.a.createElement("option",{value:"default"}," -Color- "),r.a.createElement("option",{value:"Black"}," Black "),r.a.createElement("option",{value:"Blue"}," Blue "),r.a.createElement("option",{value:"Green"}," Green "),r.a.createElement("option",{value:"Purple"}," Purple "),r.a.createElement("option",{value:"Red"}," Red "),r.a.createElement("option",{value:"White"}," White "),r.a.createElement("option",{value:"Yellow"}," Yellow "))))),r.a.createElement("div",{className:"form-group-filter-element"},r.a.createElement("div",{className:"form-group"},r.a.createElement(u.a,null,r.a.createElement(p.a,{addonType:"prepend"},r.a.createElement(E.a,{className:"bg-dark text-white"}," Cost ")),r.a.createElement(g.a,{className:"bg-dark text-white",type:"select",name:"costSelect",sm:"8",id:"costSelect",defaultValue:"default"},r.a.createElement("option",{value:"default"}," -Cost- "),r.a.createElement("option",{value:"-"}," - "),r.a.createElement("option",{value:"1"}," 1 "),r.a.createElement("option",{value:"2"}," 2 "),r.a.createElement("option",{value:"3"}," 3 "),r.a.createElement("option",{value:"4"}," 4 "),r.a.createElement("option",{value:"5"}," 5 "),r.a.createElement("option",{value:"6"}," 6 "),r.a.createElement("option",{value:"7"}," 7 "),r.a.createElement("option",{value:"8"}," 8 "),r.a.createElement("option",{value:"9"}," 9 "),r.a.createElement("option",{value:"10"}," 10 "),r.a.createElement("option",{value:"11"}," 11 "),r.a.createElement("option",{value:"12"}," 12 "),r.a.createElement("option",{value:"13"}," 13 "),r.a.createElement("option",{value:"14"}," 14 "),r.a.createElement("option",{value:"15"}," 15 "))))),r.a.createElement("div",{className:"form-group-filter-element"},r.a.createElement("div",{className:"form-group"},r.a.createElement(u.a,null,r.a.createElement(p.a,{addonType:"prepend"},r.a.createElement(E.a,{className:"bg-dark text-white"}," Digivolve Cost ")),r.a.createElement(g.a,{className:"bg-dark text-white",type:"select",name:"digivolveSelect",sm:"8",id:"digivolveSelect",defaultValue:"default"},r.a.createElement("option",{value:"default"}," -Digivolve Cost- "),r.a.createElement("option",{value:"-"}," - "),r.a.createElement("option",{value:"1"}," 1 "),r.a.createElement("option",{value:"2"}," 2 "),r.a.createElement("option",{value:"3"}," 3 "),r.a.createElement("option",{value:"4"}," 4 "),r.a.createElement("option",{value:"5"}," 5 "),r.a.createElement("option",{value:"6"}," 6 "))))),r.a.createElement("div",{className:"form-group-filter-element"},r.a.createElement("div",{className:"form-group"},r.a.createElement(u.a,null,r.a.createElement(p.a,{addonType:"prepend"},r.a.createElement(E.a,{className:"bg-dark text-white"}," Form ")),r.a.createElement(g.a,{className:"bg-dark text-white",type:"select",name:"formSelect",sm:"8",id:"formSelect",defaultValue:"default"},r.a.createElement("option",{value:"default"}," -Form- "),r.a.createElement("option",{value:"-"}," - "),r.a.createElement("option",{value:"In-Training"}," In-Training "),r.a.createElement("option",{value:"Rookie"}," Rookie "),r.a.createElement("option",{value:"Champion"}," Champion "),r.a.createElement("option",{value:"Ultimate"}," Ultimate "),r.a.createElement("option",{value:"Mega"}," Mega "))))),r.a.createElement("div",{className:"form-group-filter-element"},r.a.createElement("div",{className:"form-group flex-nowrap"},r.a.createElement(u.a,null,r.a.createElement(p.a,{addonType:"prepend"},r.a.createElement(E.a,{className:"bg-dark text-white"}," Effect ")),r.a.createElement(g.a,{className:"bg-dark text-white",name:"playEffectInput",sm:"8",id:"playEffectInput",placeholder:"-Effect-"})))),r.a.createElement("div",{className:"form-group-filter-element"},r.a.createElement("div",{className:"form-group"},r.a.createElement(u.a,null,r.a.createElement(p.a,{addonType:"prepend",sm:"4"},r.a.createElement(E.a,{className:"bg-dark text-white"}," Power ")),r.a.createElement(g.a,{className:"bg-dark text-white",type:"select",name:"powerSelect",sm:"8",id:"powerSelect",defaultValue:"default"},r.a.createElement("option",{value:"default"}," -Power- "),l)))),r.a.createElement("div",{className:"form-group-filter-element"},r.a.createElement("div",{className:"form-group"},r.a.createElement(u.a,null,r.a.createElement(p.a,{addonType:"prepend"},r.a.createElement(E.a,{className:"bg-dark text-white"}," Rarity ")),r.a.createElement(g.a,{className:"bg-dark text-white",type:"select",name:"raritySelect",sm:"8",id:"raritySelect",defaultValue:"default"},r.a.createElement("option",{value:"default"}," -Rarity- "),r.a.createElement("option",{value:"C"}," Common "),r.a.createElement("option",{value:"U"}," Uncommon "),r.a.createElement("option",{value:"R"}," Rare "),r.a.createElement("option",{value:"SR"}," Super Rare "),r.a.createElement("option",{value:"SEC"}," Secret Rare "))))),r.a.createElement("div",{className:"form-group-filter-element"},r.a.createElement("div",{className:"form-group"},r.a.createElement(u.a,null,r.a.createElement(p.a,{addonType:"prepend"},r.a.createElement(E.a,{className:"bg-dark text-white"}," Security Effect ")),r.a.createElement(g.a,{className:"bg-dark text-white",name:"securityEffectInput",sm:"8",id:"securityEffectInput",placeholder:"-Security Effect-"})))),r.a.createElement("div",{className:"form-group-filter-element"},r.a.createElement("div",{className:"form-group"},r.a.createElement(u.a,null,r.a.createElement(p.a,{addonType:"prepend"},r.a.createElement(E.a,{className:"bg-dark text-white"}," Set ")),r.a.createElement(g.a,{className:"bg-dark text-white",type:"select",name:"setSelect",sm:"8",id:"setSelect",defaultValue:"default"},r.a.createElement("option",{value:"default"}," -Set- "),i)))),r.a.createElement("div",{className:"form-group-filter-element"},r.a.createElement("div",{className:"form-group"},r.a.createElement(u.a,null,r.a.createElement(p.a,{addonType:"prepend"},r.a.createElement(E.a,{className:"bg-dark text-white"}," Type ")),r.a.createElement(g.a,{className:"bg-dark text-white",type:"select",name:"typeSelect",sm:"8",id:"typeSelect",defaultValue:"default"},r.a.createElement("option",{value:"default"}," -Type- "),b)))))),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"btn-group w-100",role:"group"},r.a.createElement("button",{style:{marginLeft:".5rem"},type:"button",className:"btn w-50 btn-danger",onClick:function(){document.getElementById("searchInput").value="",document.getElementById("attributeSelect").value="default",document.getElementById("cardLevelSelect").value="default",document.getElementById("cardNameInput").value="",document.getElementById("cardTypeSelect").value="default",document.getElementById("colorSelect").value="default",document.getElementById("costSelect").value="default",document.getElementById("digivolveSelect").value="default",document.getElementById("formSelect").value="default",document.getElementById("playEffectInput").value="",document.getElementById("powerSelect").value="default",document.getElementById("securityEffectInput").value="",document.getElementById("setSelect").value="default",document.getElementById("typeSelect").value="default",document.getElementById("raritySelect").value="default"}},"Clear"),r.a.createElement("button",{style:{marginRight:".5rem"},type:"submit",className:"btn w-50 btn-success"},"Filter")))))};function re(e){return r.a.createElement(r.a.Fragment,null,e.cards.slice(e.cardsPerPage*(e.page-1),e.cards.length<e.cardsPerPage*e.page?e.cards.length:e.cardsPerPage*e.page).map((function(a){return r.a.createElement("div",{className:"card-container col-xl-2 col-lg-2 col-md-3 col-sm-4 col-12",key:a.cardNo},r.a.createElement("div",{className:"card text-white bg-dark text-left"},r.a.createElement("a",{href:"/#",id:a.cardNo+"link","data-container":"body",onClick:function(t){t.preventDefault(),"Digi-Egg"===a.cardType?function(a){e.addEggCard(a)}(a):function(a){e.addCard(a)}(a)}},r.a.createElement("img",{src:S.a,className:"card-img card-back",alt:a.alt}),r.a.createElement("img",{src:a.src,className:"card-img card-front",alt:a.alt})),r.a.createElement(R.a,{delay:{show:350},className:"card-builder-popover",boundariesElement:"body",placement:"auto",trigger:"hover",target:a.cardNo+"link"},r.a.createElement(W.a,{className:"bg-dark text-white"},a.cardNo+" "+a.cardName),r.a.createElement(M.a,{className:"bg-dark text-white"},r.a.createElement("div",{className:"card text-white bg-dark text-left",key:a.cardNo},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"popover-card-body-image"},r.a.createElement("a",{href:"/#",id:a.cardNo+"link",onClick:function(e){e.preventDefault()}},r.a.createElement("img",{src:S.a,className:"card-img card-back",alt:a.alt}),r.a.createElement("img",{src:a.src,className:"card-img card-front",alt:a.alt})))),r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"popover-card-body-text"},r.a.createElement("p",{className:"card-text"},"Card Color: "+a.cardColor),r.a.createElement("p",{className:"card-text"},"Card Type: "+a.cardType),r.a.createElement("p",{className:"card-text"},"Card Rarity: "+a.cardRarity),r.a.createElement("p",{className:"card-text"},"Effect: "+a.effect),r.a.createElement("p",{className:"card-text"},"Inherited Effect: "+a.digivolveEffect),r.a.createElement("p",{className:"card-text"},"Security Effect: "+a.securityEffect)))))))))})))}var le=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row d-flex justify-content-center align-items-center pagination-top"},r.a.createElement(k.a,{previousLabel:"previous",nextLabel:"next",breakLabel:"...",breakClassName:"page-item disabled",breakLinkClassName:"page-link bg-dark text-white",pageCount:e.pages,marginPagesDisplayed:1,pageRangeDisplayed:3,onPageChange:function(a){e.setPage(a.selected+1)},containerClassName:"pagination",pageClassName:"page-item",forcePage:e.page-1,pageLinkClassName:"page-link bg-dark text-white",previousClassName:"page-item",previousLinkClassName:"page-link bg-dark text-white",nextClassName:"page-item",nextLinkClassName:"page-link bg-dark text-white",activeClassName:"active bg-dark text-white"})),r.a.createElement("div",{className:"flex-row flex-grow-1 d-flex db-card-list-container"},r.a.createElement(re,e)))};function ne(e){return console.log(e.deck),console.log(e.eggDeck),e.eggDeck.decklist.map((function(a,t){var c=function(e){switch(e){case"Black":return["Black","White"];case"Blue":return["#0097f4","White"];case"Green":return["#009c6b","White"];case"Purple":return["#6456a3","White"];case"Red":return["#e6002c","White"];case"White":return["White","Black"];case"Yellow":return["#ffff00","Black"];default:return["White","Black"]}}(a.cardColor),l=Object(o.a)(c,2),n=l[0],s=l[1];return r.a.createElement(L.a,{className:"deck-row",key:a.cardNo+a.cardName+"row",row:!0},r.a.createElement(u.a,null,r.a.createElement(g.a,{value:a.cardNo+" "+a.cardName,id:a.cardNo+"row",style:{backgroundColor:n,color:s},disabled:!0}),r.a.createElement(R.a,{delay:{show:250},className:"card-builder-popover",boundariesElement:"body",placement:"auto",trigger:"hover",target:a.cardNo+"row"},r.a.createElement(W.a,{className:"bg-dark text-white"},a.cardNo+" "+a.cardName),r.a.createElement(M.a,{className:"bg-dark text-white"},r.a.createElement("div",{className:"card bg-dark text-white text-left",key:a.cardNo+"row"},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-md-5"},r.a.createElement("div",{className:"popover-card-body-image"},r.a.createElement("a",{href:"/#",id:a.cardNo+"link",onClick:function(e){e.preventDefault()}},r.a.createElement("img",{src:S.a,className:"card-img card-back",alt:a.alt}),r.a.createElement("img",{src:a.src,className:"card-img card-front",alt:a.alt})))),r.a.createElement("div",{className:"col-md-7"},r.a.createElement("div",{className:"popover-card-body-text"},r.a.createElement("p",{className:"card-text"},"Card Color: "+a.cardColor),r.a.createElement("p",{className:"card-text"},"Card Type: "+a.cardType),r.a.createElement("p",{className:"card-text"},"Card Rarity: "+a.cardRarity),r.a.createElement("p",{className:"card-text"},"Effect: "+a.effect),r.a.createElement("p",{className:"card-text"},"Inherited Effect: "+a.digivolveEffect),r.a.createElement("p",{className:"card-text"},"Security Effect: "+a.securityEffect))))))),r.a.createElement(p.a,{addonType:"append"},r.a.createElement("button",{className:"btn btn-danger",onClick:function(){!function(a){e.removeEggCard(a)}(t),console.log(e.eggDeck)}},"-")),r.a.createElement(p.a,{addonType:"append"},r.a.createElement(E.a,{className:"bg-dark text-white"}," ",a.count," ")),r.a.createElement(p.a,{addonType:"append"},r.a.createElement("button",{className:"btn btn-success",onClick:function(){!function(a){e.addEggCard(a)}(a),console.log(e.eggDeck)}},"+"))))}))}function oe(e){return e.deck.decklist.map((function(a,t){var c=function(e){switch(e){case"Black":return["Black","White"];case"Blue":return["#0097f4","White"];case"Green":return["#009c6b","White"];case"Purple":return["#6456a3","White"];case"Red":return["#e6002c","White"];case"White":return["White","Black"];case"Yellow":return["#ffff00","Black"];default:return["White","Black"]}}(a.cardColor),l=Object(o.a)(c,2),n=l[0],s=l[1];return r.a.createElement(L.a,{className:"deck-row",key:a.cardNo+a.cardName,row:!0},r.a.createElement(u.a,null,r.a.createElement(g.a,{value:a.cardNo+" "+a.cardName,id:a.cardNo+"row",style:{backgroundColor:n,color:s},disabled:!0}),r.a.createElement(R.a,{delay:{show:250},className:"card-builder-popover",boundariesElement:"body",placement:"auto",trigger:"hover",target:a.cardNo+"row"},r.a.createElement(W.a,{className:"bg-dark text-white"},a.cardNo+" "+a.cardName),r.a.createElement(M.a,{className:"bg-dark text-white"},r.a.createElement("div",{className:"card bg-dark text-white text-left",key:a.cardNo},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-md-5"},r.a.createElement("div",{className:"popover-card-body-image"},r.a.createElement("a",{href:"/#",id:a.cardNo+"link",onClick:function(e){e.preventDefault()}},r.a.createElement("img",{src:a.src,className:"card-img",alt:"..."})))),r.a.createElement("div",{className:"col-md-7"},r.a.createElement("div",{className:"popover-card-body-text"},r.a.createElement("p",{className:"card-text"},"Card Color: "+a.cardColor),r.a.createElement("p",{className:"card-text"},"Card Type: "+a.cardType),r.a.createElement("p",{className:"card-text"},"Card Rarity: "+a.cardRarity),r.a.createElement("p",{className:"card-text"},"Effect: "+a.effect),r.a.createElement("p",{className:"card-text"},"Inherited Effect: "+a.digivolveEffect),r.a.createElement("p",{className:"card-text"},"Security Effect: "+a.securityEffect))))))),r.a.createElement(p.a,{addonType:"append"},r.a.createElement("button",{className:"btn btn-danger",onClick:function(){!function(a){e.removeCard(a)}(t),console.log(e.deck)}},"-")),r.a.createElement(p.a,{addonType:"append"},r.a.createElement(E.a,{className:"bg-dark text-white"}," ",a.count," ")),r.a.createElement(p.a,{addonType:"append"},r.a.createElement("button",{className:"btn btn-success",onClick:function(){console.log(a),function(a){e.addCard(a)}(a),console.log(e.deck)}},"+"))))}))}var se=function(e){var a=Object(c.useState)(!0),t=Object(o.a)(a,2),l=t[0],n=t[1],s=Object(c.useState)(!0),d=Object(o.a)(s,2),i=d[0],v=d[1],N=Object(c.useState)(!0),k=Object(o.a)(N,2),b=k[0],y=k[1],h=Object(w.g)();return r.a.createElement("div",{className:"deckMenu"},r.a.createElement(m.a,{className:"deckPanel",id:"deckPanel",onSubmit:function(e){e.preventDefault()}},r.a.createElement("div",{className:"deckInfo"},r.a.createElement("div",{className:"titleButton"},r.a.createElement("button",{type:"button",className:"btn btn-dark",onClick:function(){n(!l)}},"Deck Info")),r.a.createElement(f.a,{isOpen:l},r.a.createElement("div",{className:"deck-info-container col"},r.a.createElement(L.a,{row:!0,style:{margin:0}},r.a.createElement(u.a,null,r.a.createElement(p.a,{addonType:"prepend"},r.a.createElement(E.a,{className:"bg-dark text-white"}," Deck Title ")),r.a.createElement(g.a,{className:"bg-dark text-white",id:"deckTitle",value:e.title,onChange:function(a){e.setTitle(a.target.value)}})),r.a.createElement(u.a,null,r.a.createElement(g.a,{className:"bg-dark text-white",value:"Private",id:"private",disabled:!0}),r.a.createElement(p.a,{addonType:"append"},r.a.createElement(E.a,{className:"bg-dark text-white"},r.a.createElement(g.a,{className:"bg-dark text-white",addon:!0,type:"checkbox",id:"privacy",checked:e.privacy,onChange:function(a){e.setPrivacy(a.target.checked)}})))))))),r.a.createElement("div",{className:"mainDeck"},r.a.createElement("div",{className:"titleButton"},r.a.createElement("button",{type:"button",className:"btn btn-dark",onClick:function(){v(!i)}},"Main Deck: ",e.deck.count)),r.a.createElement(f.a,{isOpen:i},r.a.createElement("div",{className:"deck-list-container col"},r.a.createElement(oe,e)))),r.a.createElement("div",{className:"digiEggDeck"},r.a.createElement("div",{className:"titleButton"},r.a.createElement("button",{type:"button",className:"btn btn-dark",onClick:function(){y(!b)}},"Digi-Egg Deck: ",e.eggDeck.count)),r.a.createElement(f.a,{isOpen:b},r.a.createElement("div",{className:"egg-deck-list-container col"},r.a.createElement(ne,e)))),r.a.createElement("div",{className:"deckPanel-buttons col"},r.a.createElement(L.a,{row:!0},r.a.createElement("div",{className:"btn-group-vertical w-100"},r.a.createElement("div",{className:"col btn-group"},r.a.createElement("button",{type:"button",className:"btn w-50 btn-danger",onClick:function(){e.clearData(),e.setDeck({decklist:[],deckInfo:{colors:{},cardTypes:{},levels:{}},count:0}),e.setEggDeck({decklist:[],deckInfo:{colors:{}},count:0})}},"Clear"),r.a.createElement("button",{type:"button",className:"btn w-50 btn-warning",onClick:function(){if(0!==e.deck.count||0!==e.eggDeck.count){for(var a=document.getElementById("deckTitle").value.trim(),t=document.getElementById("privacy").checked,c=e.deck.deckInfo,r=e.eggDeck.deckInfo,l={},n={},o={},s={},d=[],i=0;i<e.deck.decklist.length;i++)d.push({id:e.deck.decklist[i].id,count:e.deck.decklist[i].count});for(var m=[],u=0;u<e.eggDeck.decklist.length;u++)m.push({id:e.eggDeck.decklist[u].id,count:e.eggDeck.decklist[u].count});Object.keys(c.cardTypes).sort().forEach((function(e){var a={},t=c.cardTypes[e].count;Object.keys(c.cardTypes[e].colors).sort().forEach((function(t){a[t]=c.cardTypes[e].colors[t]})),l[e]={colors:a,count:t}})),Object.keys(c.colors).sort().forEach((function(e){n[e]=c.colors[e]})),Object.keys(c.levels).sort().forEach((function(e){var a={},t=c.levels[e].count;Object.keys(c.levels[e].colors).sort().forEach((function(t){a[t]=c.levels[e].colors[t]})),o[e]={colors:a,count:t}})),Object.keys(r.colors).sort().forEach((function(e){s[e]=r.colors[e]})),c.cardTypes=l,c.colors=n,c.levels=o,r.colors=s;var p={};e.userDetails.username===e.params.user&&"Edit"===e.params.request?(p={_id:e.params.id,mainDeck:e.deck.decklist,mainDeckInfo:c,mainDeckCount:e.deck.count,eggDeck:e.eggDeck.decklist,eggDeckInfo:r,eggDeckCount:e.eggDeck.count,status:"Incomplete",title:a,privacy:t,user:e.userDetails.username,creation:e.params.creation},e.service.Post("/decks/update",p,(function(){alert("Deck Saved"),e.clearData(),h.push("/mydecks"),e.onNavigate(null)}),(function(e){alert(e)}))):(p={mainDeck:e.deck.decklist,mainDeckInfo:c,mainDeckCount:e.deck.count,eggDeck:e.eggDeck.decklist,eggDeckInfo:r,eggDeckCount:e.eggDeck.count,status:"Incomplete",title:a,privacy:t,user:e.userDetails.username},e.service.Post("/decks/submit",p,(function(){alert("Deck Saved"),e.clearData(),h.push("/mydecks"),e.onNavigate(null)}),(function(e){alert(e)})))}else alert("Please add a card first")}},"Save for Later")),r.a.createElement("div",{className:"col btn-group"},r.a.createElement("button",{type:"button",className:"btn w-100 btn-success",onClick:function(){if(e.deck.count<50)alert("Not enough cards in the Main Deck. Either add 50 cards to the Main Deck or click Save for Later.");else{for(var a=document.getElementById("deckTitle").value.trim(),t=document.getElementById("privacy").checked,c=e.deck.deckInfo,r=e.eggDeck.deckInfo,l={},n={},o={},s={},d=[],i=0;i<e.deck.decklist.length;i++)d.push({id:e.deck.decklist[i].id,count:e.deck.decklist[i].count});for(var m=[],u=0;u<e.eggDeck.decklist.length;u++)m.push({id:e.eggDeck.decklist[u].id,count:e.eggDeck.decklist[u].count});Object.keys(c.cardTypes).sort().forEach((function(e){var a={},t=c.cardTypes[e].count;Object.keys(c.cardTypes[e].colors).sort().forEach((function(t){a[t]=c.cardTypes[e].colors[t]})),l[e]={colors:a,count:t}})),Object.keys(c.colors).sort().forEach((function(e){n[e]=c.colors[e]})),Object.keys(c.levels).sort().forEach((function(e){var a={},t=c.levels[e].count;Object.keys(c.levels[e].colors).sort().forEach((function(t){a[t]=c.levels[e].colors[t]})),o[e]={colors:a,count:t}})),Object.keys(r.colors).sort().forEach((function(e){s[e]=r.colors[e]})),c.cardTypes=l,c.colors=n,c.levels=o,r.colors=s;var p={};e.userDetails.username===e.params.user&&"Edit"===e.params.request?(p={_id:e.params.id,mainDeck:e.deck.decklist,mainDeckInfo:c,mainDeckCount:e.deck.count,eggDeck:e.eggDeck.decklist,eggDeckInfo:r,eggDeckCount:e.eggDeck.count,status:"Complete",title:a,privacy:t,user:e.userDetails.username,creation:e.params.creation},e.service.Post("/decks/update",p,(function(){alert("Deck Saved"),e.clearData(),h.push("/mydecks"),e.onNavigate(null)}),(function(e){alert(e)}))):(p={mainDeck:e.deck.decklist,mainDeckInfo:c,mainDeckCount:e.deck.count,eggDeck:e.eggDeck.decklist,eggDeckInfo:r,eggDeckCount:e.eggDeck.count,status:"Complete",title:a,privacy:t,user:e.userDetails.username},e.service.Post("/decks/submit",p,(function(){alert("Deck Saved"),e.clearData(),h.push("/mydecks"),e.onNavigate(null)}),(function(e){alert(e)})))}}},"Submit")))))))};var de=function(e){var a=Object(c.useState)([]),t=Object(o.a)(a,2),l=t[0],n=t[1],s=Object(c.useState)(1),d=Object(o.a)(s,2),i=d[0],m=d[1],u=Object(c.useState)(1),p=Object(o.a)(u,2),E=p[0],g=p[1],f=e.setDisplay,v=Object(w.g)(),N=e.setPageName,k={decklist:[],deckInfo:{colors:{},cardTypes:{},levels:{}},count:0},b={decklist:[],deckInfo:{colors:{}},count:0},y="",h=!1,C=Object(c.useState)(k),x=Object(o.a)(C,2),I=x[0],S=x[1],D=Object(c.useState)(b),T=Object(o.a)(D,2),O=T[0],P=T[1],j=Object(c.useState)(y),B=Object(o.a)(j,2),L=B[0],R=B[1],W=Object(c.useState)(h),M=Object(o.a)(W,2),V=M[0],F=M[1],J=Math.floor(5);function G(){return function(e,a){return e.cardNo>a.cardNo?1:-1}}function q(e){if(console.log(e),I.count<50){var a=I.decklist.findIndex((function(a){return a.id===e.id})),t=e.cardColor,c=Object(Y.a)({},I.deckInfo);if(a>-1){var r=Object(U.a)(I.decklist);r[a].count<4&&(c.colors[t]?c.colors[t]+=1:c.colors[t]=1,c.cardTypes[e.cardType]?(c.cardTypes[e.cardType].colors?c.cardTypes[e.cardType].colors[t]?c.cardTypes[e.cardType].colors[t]+=1:c.cardTypes[e.cardType].colors[t]=1:c.cardTypes[e.cardType].colors=Object(A.a)({},t,1),c.cardTypes[e.cardType].count+=1):c.cardTypes[e.cardType]={colors:Object(A.a)({},t,1),count:1},c.levels[e.cardLv]?(c.levels[e.cardLv].colors?c.levels[e.cardLv].colors[t]?c.levels[e.cardLv].colors[t]+=1:c.levels[e.cardLv].colors[t]=1:c.levels[e.cardLv].colors=Object(A.a)({},t,1),c.levels[e.cardLv].count+=1):c.levels[e.cardLv]={colors:Object(A.a)({},t,1),count:1},r[a].count=r[a].count+1,S({decklist:r.sort((function(e,a){return e.cardColor>a.cardColor?1:e.cardColor<a.cardColor?-1:e.cardType>a.cardType?1:e.cardType<a.cardType?-1:e.cardLv>a.cardLv?1:e.cardLv<a.cardLv?-1:e.cardName>a.cardName?1:e.cardName<a.cardName?-1:e.cardNo>a.cardNo?1:e.cardNo<a.cardNo?-1:0})),deckInfo:c,count:I.count+1}))}else c.colors[t]?c.colors[t]+=1:c.colors[t]=1,c.cardTypes[e.cardType]?(c.cardTypes[e.cardType].colors?c.cardTypes[e.cardType].colors[t]?c.cardTypes[e.cardType].colors[t]+=1:c.cardTypes[e.cardType].colors[t]=1:c.cardTypes[e.cardType].colors=Object(A.a)({},t,1),c.cardTypes[e.cardType].count+=1):c.cardTypes[e.cardType]={colors:Object(A.a)({},t,1),count:1},c.levels[e.cardLv]?(c.levels[e.cardLv].colors?c.levels[e.cardLv].colors[t]?c.levels[e.cardLv].colors[t]+=1:c.levels[e.cardLv].colors[t]=1:c.levels[e.cardLv].colors=Object(A.a)({},t,1),c.levels[e.cardLv].count+=1):c.levels[e.cardLv]={colors:Object(A.a)({},t,1),count:1},e.count=1,e.id=e.cardNo,S({decklist:[].concat(Object(U.a)(I.decklist),[e]).sort((function(e,a){return e.cardColor>a.cardColor?1:e.cardColor<a.cardColor?-1:e.cardType>a.cardType?1:e.cardType<a.cardType?-1:e.cardLv>a.cardLv?1:e.cardLv<a.cardLv?-1:e.cardName>a.cardName?1:e.cardName<a.cardName?-1:e.cardNo>a.cardNo?1:e.cardNo<a.cardNo?-1:0})),deckInfo:c,count:I.count+1})}}function z(e){if(O.count<5){var a=O.decklist.findIndex((function(a){return a.id===e.id})),t=Object(Y.a)({},O.deckInfo);if(a>-1){t.colors[e.cardColor]?t.colors[e.cardColor]+=1:t.colors[e.cardColor]=1;var c=Object(U.a)(O.decklist);c[a].count<4&&(c[a].count=c[a].count+1,P({decklist:c.sort((function(e,a){return e.cardColor>a.cardColor?1:e.cardColor<a.cardColor?-1:e.cardType>a.cardType?1:e.cardType<a.cardType?-1:e.cardLv>a.cardLv?1:e.cardLv<a.cardLv?-1:e.cardName>a.cardName?1:e.cardName<a.cardName?-1:e.cardNo>a.cardNo?1:e.cardNo<a.cardNo?-1:0})),deckInfo:t,count:O.count+1}))}else t.colors[e.cardColor]?t.colors[e.cardColor]+=1:t.colors[e.cardColor]=1,e.count=1,e.id=e.cardNo,P({decklist:[].concat(Object(U.a)(O.decklist),[e]).sort((function(e,a){return e.cardColor>a.cardColor?1:e.cardColor<a.cardColor?-1:e.cardType>a.cardType?1:e.cardType<a.cardType?-1:e.cardLv>a.cardLv?1:e.cardLv<a.cardLv?-1:e.cardName>a.cardName?1:e.cardName<a.cardName?-1:e.cardNo>a.cardNo?1:e.cardNo<a.cardNo?-1:0})),deckInfo:t,count:O.count+1})}}var _=Object(c.useCallback)((function(a){var t=Date.now(),c={mainDeck:{decklist:e.params.mainDeck,deckInfo:e.params.mainDeckInfo,count:e.params.mainDeckCount},eggDeck:{decklist:e.params.eggDeck,deckInfo:e.params.eggDeckInfo,count:e.params.eggDeckCount},title:e.params.title,privacy:e.params.privacy};if(S(c.mainDeck),P(c.eggDeck),R(c.title),F(c.privacy),console.log(e.params),null==sessionStorage.getItem("cardData"))e.service.Get("/cards/",{},(function(e){if(a){var t={created:Date.now(),data:e};sessionStorage.setItem("cardData",JSON.stringify(t));var c=JSON.parse(sessionStorage.getItem("cardData")).data;n(c.sort((function(e,a){return e.cardNo>a.cardNo?1:-1}))),m(Math.ceil(c.length/30)),f("none")}}),(function(e){f("none"),v.push("/"),console.log(e)}));else if(t-JSON.parse(sessionStorage.getItem("cardData")).created>=432e5)e.service.Get("/cards/",{},(function(e){if(a){var t={created:Date.now(),data:e};sessionStorage.setItem("cardData",JSON.stringify(t));var c=JSON.parse(sessionStorage.getItem("cardData")).data;n(c.sort((function(e,a){return e.cardNo>a.cardNo?1:-1}))),m(Math.ceil(c.length/30)),f("none")}}),(function(e){f("none"),v.push("/"),console.log(e)}));else if(a){var r=JSON.parse(sessionStorage.getItem("cardData")).data;n(r.sort((function(e,a){return e.cardNo>a.cardNo?1:-1}))),m(Math.ceil(r.length/30)),f("none")}}),[e.service,30,f,v,e.params]);return Object(c.useEffect)((function(){N("Deck Builder");var a=!0;return a&&e.params?_(a):v.push("/"),function(){return a=!1}}),[_,v,e.params,N]),r.a.createElement("div",{className:"container-fluid d-flex flex-row flex-wrap flex-start"},r.a.createElement("div",{className:"flex-column col-lg-4 col-md-4 col-sm-12 deck-list"},r.a.createElement(se,Object.assign({},e,{clearData:function(){var e={decklist:[],deckInfo:{colors:{}},count:0},a="",t=!1;S({decklist:[],deckInfo:{colors:{},cardTypes:{},levels:{}},count:0}),P(e),R(a),F(t)},setCards:n,setPages:m,setPage:g,cardsInRow:6,cardsPerPage:30,rowsPerPage:J,addCard:q,removeCard:function(e){var a=I.decklist[e],t=Object(U.a)(I.decklist);if(e<t.length){var c=Object(Y.a)({},I.deckInfo);1===c.colors[a.cardColor]?delete c.colors[a.cardColor]:c.colors[a.cardColor]-=1,1===c.cardTypes[a.cardType].colors[a.cardColor]?delete c.cardTypes[a.cardType].colors[a.cardColor]:c.cardTypes[a.cardType].colors[a.cardColor]-=1,1===c.cardTypes[a.cardType].count?delete c.cardTypes[a.cardType]:c.cardTypes[a.cardType].count-=1,1===c.levels[a.cardLv].colors[a.cardColor]?delete c.levels[a.cardLv].colors[a.cardColor]:c.levels[a.cardLv].colors[a.cardColor]-=1,1===c.levels[a.cardLv].count?delete c.levels[a.cardLv]:c.levels[a.cardLv].count-=1,t[e].count>1?t[e].count=t[e].count-1:t.splice(e,1),S({decklist:t.sort((function(e,a){return e.cardColor>a.cardColor?1:e.cardColor<a.cardColor?-1:e.cardType>a.cardType?1:e.cardType<a.cardType?-1:e.cardLv>a.cardLv?1:e.cardLv<a.cardLv?-1:e.cardName>a.cardName?1:e.cardName<a.cardName?-1:e.cardNo>a.cardNo?1:e.cardNo<a.cardNo?-1:0})),deckInfo:c,count:I.count-1})}},deck:I,setDeck:S,addEggCard:z,removeEggCard:function(e){var a=O.decklist[e],t=Object(U.a)(O.decklist);if(e<t.length){var c=Object(Y.a)({},O.deckInfo);1===c.colors[a.cardColor]?delete c.colors[a.cardColor]:c.colors[a.cardColor]-=1,t[e].count>1?t[e].count=t[e].count-1:t.splice(e,1),P({decklist:t.sort((function(e,a){return e.cardColor>a.cardColor?1:e.cardColor<a.cardColor?-1:e.cardType>a.cardType?1:e.cardType<a.cardType?-1:e.cardLv>a.cardLv?1:e.cardLv<a.cardLv?-1:e.cardName>a.cardName?1:e.cardName<a.cardName?-1:e.cardNo>a.cardNo?1:e.cardNo<a.cardNo?-1:0})),deckInfo:c,count:O.count-1})}},eggDeck:O,setEggDeck:P,title:L,setTitle:R,privacy:V,setPrivacy:F}))),r.a.createElement("div",{className:"d-flex flex-column col-lg-8 col-md-8 col-sm-12 db-cards-filter-container"},r.a.createElement("div",{className:"filterWrapper-top row d-flex"},r.a.createElement(ce,{sortCards:G,service:e.service,setCards:n,setPages:m,setPage:g,cardsInRow:6,cardsPerPage:30,rowsPerPage:J})),r.a.createElement("div",{className:"d-flex flex-column flex-grow-1 cardsWrapper"},r.a.createElement(le,{service:e.service,cards:l,pages:i,page:E,setPage:g,cardsInRow:6,cardsPerPage:30,rowsPerPage:J,addCard:q,addEggCard:z}))))},ie=t(83),me=t(315),ue=t(316);function pe(e){return r.a.createElement("div",{className:"col"},function(){var a=e.decks.slice(0,e.decksPerPage),t=0;t=e.decks.length<e.decksPerPage?e.decks.length:e.decksPerPage;for(var c=[],l=1;l<=t;l++)c.push(r.a.createElement("div",{className:"row decks-row",key:l},a.slice((l-1)*e.decksInRow,l*e.decksInRow).map((function(a){if(!a.privacy&&"Complete"===a.status){var t=Object.keys(a.mainDeckInfo.colors);t=t.concat(Object.keys(a.eggDeckInfo.colors)),t=new Set(t),t=Array.from(t).join(", ");var c=Date.parse(a.update);return c=(c=new Date(c)).getMonth()+1+"/"+c.getDate()+"/"+c.getFullYear()+", "+c.getHours()+":"+(c.getMinutes()<10?"0":"")+c.getMinutes(),r.a.createElement("div",{className:"col",id:a.id,key:a.id},r.a.createElement("div",{className:"card text-white bg-dark text-left"},r.a.createElement(Q.b,{className:"text-white",to:"/decklist/"+a.id,onClick:function(){e.onNavigate(a)}},r.a.createElement("div",{className:"card-block"},r.a.createElement("div",{className:"card-header"},a.title+"  by "+a.user+" on "+c),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"card-body"},r.a.createElement("p",{className:"card-text"},"Colors: "+t))))))))}return r.a.createElement(r.a.Fragment,null)}))));return c}())}var Ee=function(e){return r.a.createElement("div",{className:"cards"},r.a.createElement("div",{className:"row flex-nowrap decks-list-container"},r.a.createElement(pe,e)))};var ge=function(e){var a=e.setDisplay,t=e.setPageName,l=Object(c.useState)([]),n=Object(o.a)(l,2),s=n[0],d=n[1],i=Math.floor(5),m=Object(c.useCallback)((function(t){a("block"),e.service.Get("/decks/deckdb/",{limit:5},(function(e){if(t){var c={created:Date.now(),data:e};sessionStorage.setItem("deckData",JSON.stringify(c));var r=JSON.parse(sessionStorage.getItem("deckData")).data;d(r),a("none")}}),(function(e){a("none"),console.log(e)}))}),[e.service,a]);return Object(c.useEffect)((function(){t("Home");var e=!0;return e&&m(e),function(){return e=!1}}),[m,t]),r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"home-content row d-flex"},r.a.createElement("div",{className:"home-card-container col"},r.a.createElement(me.a,{body:!0,className:"home-card text-white bg-1"},r.a.createElement(ie.FacebookProvider,{appId:"1426479930889397"},r.a.createElement(ie.Page,{href:"https://www.facebook.com/digimontcgen",width:"300px",tabs:"timeline",smallHeader:"true"})))),r.a.createElement("div",{className:"home-card-container col"},r.a.createElement(me.a,{body:!0,className:"home-card text-white bg-1"},r.a.createElement(ue.a,null,r.a.createElement("h2",null,"Recent Decks")),r.a.createElement(Ee,Object.assign({},e,{decks:s,decksInRow:1,decksPerPage:5,rowsPerPage:i}))))))};var fe=function(e){var a=Object(c.useState)(),t=Object(o.a)(a,2),l=t[0],n=t[1],s=Object(c.useState)(!1),d=Object(o.a)(s,2),i=d[0],v=d[1],N=Object(c.useCallback)((function(a){e.service.Get("/cards/cardNo",{},(function(e){if(a){var t=e.map((function(e){return r.a.createElement("option",{key:"no"+e.cardNo,value:e.cardNo},e.cardNo+" "+e.cardName)}));n(t)}}),(function(e){console.log(e),n("")}))}),[e.service]);return Object(c.useEffect)((function(){var e=!0;return e&&N(e),function(){return e=!1}}),[N]),r.a.createElement("div",{className:"FilterMenu filterMenu-left"},r.a.createElement(m.a,{className:"px-4 py-3",id:"filter",onSubmit:function(a){a.preventDefault(),function(){var a=document.getElementById("deckTitleInput").value.trim(),t=document.getElementById("cardNoSelect").value;"default"===t&&(t="");var c=document.getElementById("cardNameInput").value.trim(),r=[],l=document.getElementById("andCheckbox").checked;document.getElementById("blackCheckbox").checked&&r.push("Black"),document.getElementById("blueCheckbox").checked&&r.push("Blue"),document.getElementById("greenCheckbox").checked&&r.push("Green"),document.getElementById("purpleCheckbox").checked&&r.push("Purple"),document.getElementById("redCheckbox").checked&&r.push("Red"),document.getElementById("whiteCheckbox").checked&&r.push("White"),document.getElementById("yellowCheckbox").checked&&r.push("Yellow");var n=[];if(!(t||c||a||r.length>0))return n=JSON.parse(sessionStorage.getItem("deckData")).data,e.setDecks(n),e.setPages(Math.ceil(n.length/e.decksPerPage)),void e.setPage(1);n=JSON.parse(sessionStorage.getItem("deckData")).data.filter((function(e){var n=!0;if(t&&(n=n&&(e.mainDeck.filter((function(e){return e.cardNo===t}))||e.eggDeck.filter((function(e){return e.cardNo===t})))),c&&(n=n&&(e.mainDeck.filter((function(e){return e.cardName.toLowerCase()===c.toLowerCase()}))||e.eggDeck.filter((function(e){return e.cardName.toLowerCase()===c.toLowerCase()})))),a&&(n=n&&e.title.toLowerCase().includes(a.toLowerCase())),r.length>0){var o=!1;if(l){o=!0;for(var s=0;s<r.length;s++)if(!e.mainDeckInfo.colors.hasOwnProperty(r[s])&&!e.eggDeckInfo.colors.hasOwnProperty(r[s])){o=!1;break}}else for(var d=0;d<r.length;d++)if(e.mainDeckInfo.colors.hasOwnProperty(r[d])||e.eggDeckInfo.colors.hasOwnProperty(r[d])){o=!0;break}n=n&&o}return n})),e.setDecks(n),e.setPages(Math.ceil(n.length/e.decksPerPage)),e.setPage(1)}()}},r.a.createElement("h5",null," Filter Decks "),r.a.createElement(L.a,{row:!0},r.a.createElement(u.a,null,r.a.createElement(p.a,{addonType:"prepend"},r.a.createElement(E.a,{className:"bg-dark text-white"}," Deck Title ")),r.a.createElement(g.a,{className:"bg-dark text-white",name:"deckTitleInput",sm:"8",id:"deckTitleInput",placeholder:"Search by Deck Title"}),r.a.createElement(p.a,{addonType:"append"},r.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){v(!i)}},"Show more filters")))),r.a.createElement(f.a,{isOpen:i},r.a.createElement(L.a,{row:!0},r.a.createElement(u.a,null,r.a.createElement(p.a,{addonType:"prepend"},r.a.createElement(E.a,{className:"bg-dark text-white"}," Card Name ")),r.a.createElement(g.a,{className:"bg-dark text-white",name:"cardNameInput",sm:"8",id:"cardNameInput",placeholder:"Search by Card Name"}))),r.a.createElement(L.a,{row:!0},r.a.createElement(u.a,null,r.a.createElement(p.a,{addonType:"prepend"},r.a.createElement(E.a,{className:"bg-dark text-white"}," Card No. ")),r.a.createElement(g.a,{className:"bg-dark text-white",type:"select",name:"cardNoSelect",sm:"8",id:"cardNoSelect",defaultValue:"default"},r.a.createElement("option",{value:"default"}," -Card No.- "),l))),r.a.createElement(L.a,{row:!0},r.a.createElement(u.a,null,r.a.createElement(g.a,{className:"bg-dark text-white",value:"Colors",id:"colors",style:{textAlign:"center"},disabled:!0}),r.a.createElement(p.a,{addonType:"append"},r.a.createElement(E.a,{className:"bg-dark text-white"},"AND"),r.a.createElement(E.a,{className:"bg-dark text-white"},r.a.createElement(g.a,{addon:!0,type:"checkbox",id:"andCheckbox"})))),r.a.createElement(u.a,null,r.a.createElement(g.a,{value:"Black",id:"black",style:{backgroundColor:"Black",color:"White"},disabled:!0}),r.a.createElement(p.a,{addonType:"append"},r.a.createElement(E.a,{style:{backgroundColor:"Black"}},r.a.createElement(g.a,{addon:!0,type:"checkbox",id:"blackCheckbox"})))),r.a.createElement(u.a,null,r.a.createElement(g.a,{value:"Blue",id:"blue",style:{backgroundColor:"#0097f4",color:"White"},disabled:!0}),r.a.createElement(p.a,{addonType:"append"},r.a.createElement(E.a,{style:{backgroundColor:"#0097f4"}},r.a.createElement(g.a,{addon:!0,type:"checkbox",id:"blueCheckbox"})))),r.a.createElement(u.a,null,r.a.createElement(g.a,{value:"Green",id:"green",style:{backgroundColor:"#009c6b",color:"White"},disabled:!0}),r.a.createElement(p.a,{addonType:"append"},r.a.createElement(E.a,{style:{backgroundColor:"#009c6b"}},r.a.createElement(g.a,{addon:!0,type:"checkbox",id:"greenCheckbox"})))),r.a.createElement(u.a,null,r.a.createElement(g.a,{value:"Purple",id:"purple",style:{backgroundColor:"#6456a3",color:"White"},disabled:!0}),r.a.createElement(p.a,{addonType:"append"},r.a.createElement(E.a,{style:{backgroundColor:"#6456a3"}},r.a.createElement(g.a,{addon:!0,type:"checkbox",id:"purpleCheckbox"})))),r.a.createElement(u.a,null,r.a.createElement(g.a,{value:"Red",id:"red",style:{backgroundColor:"#e6002c",color:"White"},disabled:!0}),r.a.createElement(p.a,{addonType:"append"},r.a.createElement(E.a,{style:{backgroundColor:"#e6002c"}},r.a.createElement(g.a,{addon:!0,type:"checkbox",id:"redCheckbox"})))),r.a.createElement(u.a,null,r.a.createElement(g.a,{value:"White",id:"white",style:{backgroundColor:"White",color:"Black"},disabled:!0}),r.a.createElement(p.a,{addonType:"append"},r.a.createElement(E.a,{style:{backgroundColor:"White"}},r.a.createElement(g.a,{addon:!0,type:"checkbox",id:"whiteCheckbox"})))),r.a.createElement(u.a,null,r.a.createElement(g.a,{value:"Yellow",id:"yellow",style:{backgroundColor:"#ffff00",color:"Black"},disabled:!0}),r.a.createElement(p.a,{addonType:"append"},r.a.createElement(E.a,{style:{backgroundColor:"#ffff00"}},r.a.createElement(g.a,{addon:!0,type:"checkbox",id:"yellowCheckbox"})))))),r.a.createElement(L.a,{row:!0},r.a.createElement("div",{className:"btn-group w-100",role:"group"},r.a.createElement("button",{type:"button",className:"btn w-50 btn-danger",onClick:function(){document.getElementById("cardNoSelect").value="default",document.getElementById("deckTitleInput").value="",document.getElementById("cardNameInput").value="",document.getElementById("andCheckbox").checked=!1,document.getElementById("blackCheckbox").checked=!1,document.getElementById("blueCheckbox").checked=!1,document.getElementById("greenCheckbox").checked=!1,document.getElementById("purpleCheckbox").checked=!1,document.getElementById("redCheckbox").checked=!1,document.getElementById("whiteCheckbox").checked=!1,document.getElementById("yellowCheckbox").checked=!1}},"Clear"),r.a.createElement("button",{type:"submit",className:"btn w-50 btn-success"},"Filter")))))};function ve(e){return r.a.createElement("div",{className:"col"},function(){var a=e.decks.slice(e.decksPerPage*(e.page-1),e.decks.length<e.decksPerPage*e.page?e.decks.length:e.decksPerPage*e.page),t=0;t=a.length<e.rowsPerPage?a.length:e.rowsPerPage;for(var c=[],l=1;l<=t;l++)c.push(r.a.createElement("div",{className:"row decks-row",key:l},a.slice((l-1)*e.decksInRow,l*e.decksInRow).map((function(a){var t=Object.keys(a.mainDeckInfo.colors);t=t.concat(Object.keys(a.eggDeckInfo.colors)),t=new Set(t),t=Array.from(t).join(", ");var c=Date.parse(a.update);return c=(c=new Date(c)).getMonth()+1+"/"+c.getDate()+"/"+c.getFullYear()+", "+c.getHours()+":"+(c.getMinutes()<10?"0":"")+c.getMinutes(),r.a.createElement("div",{className:"col",id:a.id,key:a.id},r.a.createElement("div",{className:"card text-white bg-dark text-left"},r.a.createElement(Q.b,{className:"text-white",to:"/decklist/"+a.id,onClick:function(){e.onNavigate(a)}},r.a.createElement("div",{className:"card-block"},r.a.createElement("div",{className:"card-header"},a.title+" on "+c+" | Status: "+a.status+" | "+(a.privacy?"Private":"Public")),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"card-body"},r.a.createElement("p",{className:"card-text"},"Colors: "+t))))))))}))));return c}())}var Ne=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row justify-content-center align-items-center pagination-top"},r.a.createElement(k.a,{previousLabel:"previous",nextLabel:"next",breakLabel:"...",breakClassName:"page-item disabled",breakLinkClassName:"page-link bg-dark text-white",pageCount:e.pages,marginPagesDisplayed:1,pageRangeDisplayed:3,onPageChange:function(a){e.setPage(a.selected+1)},containerClassName:"pagination",pageClassName:"page-item",pageLinkClassName:"page-link bg-dark text-white",previousClassName:"page-item",previousLinkClassName:"page-link bg-dark text-white",nextClassName:"page-item",nextLinkClassName:"page-link bg-dark text-white",activeClassName:"active bg-dark text-white"})),r.a.createElement("div",{className:"flex-row flex-grow-1 d-flex flex-nowrap decks-list-container"},r.a.createElement(ve,e)))};var ke=function(e){var a=Object(c.useState)([]),t=Object(o.a)(a,2),l=t[0],n=t[1],s=Object(c.useState)(1),d=Object(o.a)(s,2),i=d[0],m=d[1],u=Object(c.useState)(1),p=Object(o.a)(u,2),E=p[0],g=p[1],f=Math.floor(5),v=e.setDisplay,N=e.userDetails,k=e.setPageName,b=Object(w.g)(),y=Object(c.useCallback)((function(a){e.service.Get("/decks/",{username:N.username},(function(e){if(a){var t={created:Date.now(),data:e};sessionStorage.setItem("deckData",JSON.stringify(t));var c=JSON.parse(sessionStorage.getItem("deckData")).data;n(c),m(Math.ceil(c.length/5)),v("none")}}),(function(e){console.log(e),v("none")}))}),[e.service,5,v,N]);return Object(c.useEffect)((function(){k("My Decks");var a=!0;if(e.loaded){if(!e.userDetails.username)return void b.push("/");a&&y(a)}return function(){return a=!1}}),[y,e.loaded,b,e.userDetails,k]),r.a.createElement("div",{className:"container-fluid d-flex flex-row flex-wrap flex-start"},r.a.createElement("div",{className:"filterMenuWrapper col-xl-4 col-lg-6 col-md-12 col-sm-12"},r.a.createElement(fe,{service:e.service,setDecks:n,setPages:m,setPage:g,decksInRow:1,decksPerPage:5,rowsPerPage:f})),r.a.createElement("div",{className:"decksWrapper flex-grow-1 d-flex flex-column col-xl-8 col-lg-6 col-md-12 col-sm-12"},r.a.createElement(Ne,Object.assign({},e,{decks:l,pages:i,page:E,setPage:g,decksInRow:1,decksPerPage:5,rowsPerPage:f}))))},be=t(317),ye=t(318),he=t(127);function we(e){return r.a.createElement("div",null,r.a.createElement(m.a,{className:"px-4 py-3",id:"login",onSubmit:function(a){a.preventDefault();var t=document.getElementById("loginEmail").value,c=document.getElementById("loginPassword").value;e.service.Login(t,c,(function(){e.onLoginChange()}),(function(e){alert(e)}))}},r.a.createElement("h5",null," Login "),r.a.createElement(L.a,null,r.a.createElement(be.a,{for:"loginEmail"}," Email "),r.a.createElement(g.a,{type:"loginEmail",name:"loginEmail",id:"loginEmail",placeholder:"Email",required:"required"})),r.a.createElement(L.a,null,r.a.createElement(be.a,{for:"loginPassword"}," Password "),r.a.createElement(g.a,{type:"password",name:"loginPassword",id:"loginPassword",placeholder:"********",required:"Required"})),r.a.createElement(ye.a,null,r.a.createElement(he.a,{type:"reset",color:"danger"}," Clear "),r.a.createElement(he.a,{type:"submit",color:"success"}," Login "))),r.a.createElement("div",{className:"px-4 py-3"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"row"},r.a.createElement("a",{href:"/password",onClick:function(){e.onNavigate(null)}}," Forgot Password? ")),r.a.createElement("div",{className:"row"},r.a.createElement("a",{href:"/resend",onClick:function(){e.onNavigate(null)}}," Resend Verification Email ")))))}function Ce(e){var a=Object(w.g)();return r.a.createElement(m.a,{className:"px-4 py-3",id:"register",onSubmit:function(t){t.preventDefault();var c=document.getElementById("registerEmail").value,r=document.getElementById("username").value,l=document.getElementById("firstName").value,n=document.getElementById("lastName").value,o=document.getElementById("registerPassword").value;o.length<8?alert("Password must be at least 8 characters"):e.service.Register(c,r,l,n,o,(function(){document.getElementById("registerEmail").value="",document.getElementById("username").value="",document.getElementById("firstName").value="",document.getElementById("lastName").value="",document.getElementById("registerPassword").value="",e.onNavigate(null),a.push("/"),alert("Confirmation email has been sent.")}),(function(e){alert(e)}))}},r.a.createElement("h5",null," Register "),r.a.createElement(L.a,null,r.a.createElement(be.a,{for:"registerEmail"}," Email "),r.a.createElement(g.a,{type:"registerEmail",name:"registerEmail",id:"registerEmail",placeholder:"Required",required:"required"})),r.a.createElement(L.a,null,r.a.createElement(be.a,{for:"username"}," Username "),r.a.createElement(g.a,{type:"username",name:"username",id:"username",placeholder:"Required",required:"required"})),r.a.createElement("div",{className:"d-flex flex-wrap justify-content-between"},r.a.createElement("div",{style:{flex:1}},r.a.createElement(L.a,null,r.a.createElement(be.a,{for:"firstName"}," First Name "),r.a.createElement(g.a,{type:"text",name:"firstName",id:"firstName",placeholder:"Optional"}))),r.a.createElement("div",{style:{flex:1}},r.a.createElement(L.a,null,r.a.createElement(be.a,{for:"lastName"}," Last Name "),r.a.createElement(g.a,{type:"text",name:"lastName",id:"lastName",placeholder:"Optional"})))),r.a.createElement(L.a,null,r.a.createElement(be.a,{for:"registerPassword"}," Password "),r.a.createElement(g.a,{type:"password",name:"registerPassword",id:"registerPassword",placeholder:"********",required:"Required"})),r.a.createElement(ye.a,null,r.a.createElement(he.a,{type:"reset",color:"danger"}," Clear "),r.a.createElement(he.a,{type:"submit",color:"success"}," Register ")))}var xe=function(e){var a=Object(c.useState)("Login"),t=Object(o.a)(a,2),l=t[0],n=t[1];return r.a.createElement("div",null,r.a.createElement(m.a,null,r.a.createElement("div",{className:"btn-group d-flex flex-row flex-wrap",role:"group"},r.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(){return n("Login")}},"Login"),r.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(){return n("Register")}},"Register"))),r.a.createElement("div",{className:"LoginRegister d-flex flex-row flex-wrap"},r.a.createElement("div",{className:"p-2",style:{flex:1}},{Login:r.a.createElement(we,{service:e.service,onLoginChange:e.onLoginChange,changeSelected:e.changeSelected,onNavigate:e.onNavigate}),Register:r.a.createElement(Ce,{service:e.service,onLoginChange:e.onLoginChange,onNavigate:e.onNavigate})}[l])))},Ie=t(319);var Se=function(e){return r.a.createElement("div",{id:"UserPanel"},e.admin&&r.a.createElement("div",null,r.a.createElement(Ie.a,{className:"text-white",tag:Q.b,to:"/admin",onClick:function(){e.onNavigate(null)}},"Admin Panel"),r.a.createElement(Ie.a,{divider:!0})),r.a.createElement(Ie.a,{className:"text-white",tag:Q.b,to:"/mydecks",onClick:function(){e.onNavigate(null)}},"My Decks"),r.a.createElement(Ie.a,{className:"text-white",tag:Q.b,to:"/settings",onClick:function(){e.onNavigate(null)}},"Settings"),r.a.createElement(Ie.a,{className:"text-white",tag:Q.b,to:"/",onClick:function(a){e.service.Logout((function(){e.onLoginChange(),e.onNavigate(null)}),(function(e){alert(e)}))}},"Log Out"))},De=t(329),Te=t(330),Oe=t(320),Pe=t(321),je=t(322),Be=t(323),Le=t(324),Re=t(325),We=t(326),Me=t(327);var Ve=function(e){var a=Object(c.useState)(!1),t=Object(o.a)(a,2),l=t[0],n=t[1];return r.a.createElement(Pe.a,{className:"py-3 shadow-sm fixed-top justify-content-between navbar-custom",dark:!0,expand:"lg"},r.a.createElement(je.a,{tag:Q.b,to:"/"},"DigiDecks"),r.a.createElement(Be.a,{style:{padding:"0"}}," ",r.a.createElement("h2",{style:{color:"white",margin:"0",paddingRight:"1rem"}},"| ")," "),r.a.createElement(Be.a,{className:"mr-auto"}," ",r.a.createElement("h5",{style:{color:"white",margin:"0",paddingRight:"2rem"}},e.pageName)," "),r.a.createElement(Le.a,{onClick:function(){return n(!l)}}),r.a.createElement(f.a,{isOpen:l,navbar:!0},r.a.createElement(Re.a,{className:"mr-auto",navbar:!0},r.a.createElement(We.a,null,r.a.createElement(Me.a,{tag:Q.b,to:"/deckbuilder"}," Deck Builder ")),r.a.createElement(We.a,null,r.a.createElement(Me.a,{tag:Q.b,to:"/carddb"}," Card Database ")),r.a.createElement(We.a,null,r.a.createElement(Me.a,{tag:Q.b,to:"/deckdb"}," Deck Database "))),r.a.createElement(Re.a,{className:"in-line",navbar:!0},function(){for(var a=[],t=0;t<e.rightNav.length;t++)"Login/Register"===e.rightNav[t]&&a.push(r.a.createElement(De.a,{id:"login-register-dropdown",key:e.rightNav[t],nav:!0,inNavbar:!0},r.a.createElement(Te.a,{nav:!0,caret:!0},"Login/Register"),r.a.createElement(Oe.a,{className:"bg-dark",id:"login-register-window",right:!0},r.a.createElement(xe,{service:e.service,onLoginChange:e.onLoginChange,onNavigate:e.onNavigate})))),"User Panel"===e.rightNav[t]&&a.push(r.a.createElement(De.a,{key:e.rightNav[t],nav:!0,inNavbar:!0},r.a.createElement(Te.a,{nav:!0,caret:!0},e.userDetails.username),r.a.createElement(Oe.a,{className:"bg-dark",id:"userpanel-window",right:!0},r.a.createElement(Se,{service:e.service,admin:e.admin,userDetails:e.userDetails,onLoginChange:e.onLoginChange,onNavigate:e.onNavigate}))));return a}())))};var Fe=function(e){var a=Object(w.g)(),t=e.setDisplay;return Object(c.useEffect)((function(){e.setPageName("Reset Password");var a=!0;return a&&t("none"),function(){return a=!1}})),r.a.createElement("div",{className:"container-fluid",style:{height:"100vh"}},r.a.createElement("div",{className:"d-flex justify-content-center align-items-center flex-grow-1 h-100"},r.a.createElement("div",{className:"d-flex col-8 bg-dark text-white",style:{borderRadius:"10px 10px 10px 10px",padding:"1rem"}},r.a.createElement(m.a,{className:"px-4 py-3 flex-grow-1",id:"filter",onSubmit:function(t){t.preventDefault();var c=document.getElementById("resetEmail").value;e.service.Post("/sendReset",{email:c},(function(){e.onNavigate(null),a.push("/"),alert("Password Reset email has been sent.")}),(function(e){alert(e)}))}},r.a.createElement("h5",null," Reset Password "),r.a.createElement(L.a,{row:!0},r.a.createElement(be.a,{for:"resetEmail"}," Email "),r.a.createElement(g.a,{name:"resetEmail",id:"resetEmail",placeholder:"Required",required:"required"})),r.a.createElement(L.a,{row:!0},r.a.createElement("div",{className:"btn-group w-100",role:"group"},r.a.createElement(he.a,{className:"w-100",type:"submit",color:"success"}," Send Reset Email ")))))))};var Je=function(e){var a=Object(w.g)(),t=e.setDisplay;return Object(c.useEffect)((function(){e.setPageName("Resend Email");var a=!0;return a&&t("none"),function(){return a=!1}})),r.a.createElement("div",{className:"container-fluid",style:{height:"100vh"}},r.a.createElement("div",{className:"d-flex justify-content-center align-items-center flex-grow-1 h-100"},r.a.createElement("div",{className:"d-flex col-8 bg-dark text-white",style:{borderRadius:"10px 10px 10px 10px",padding:"1rem"}},r.a.createElement(m.a,{className:"px-4 py-3 flex-grow-1",id:"filter",onSubmit:function(t){t.preventDefault();var c=document.getElementById("resendEmail").value;e.service.Post("/resend",{email:c},(function(){e.onNavigate(null),a.push("/"),alert("Confirmation email has been sent.")}),(function(e){alert(e)}))}},r.a.createElement("h5",null," Resend Verification Email "),r.a.createElement(L.a,{row:!0},r.a.createElement(be.a,{for:"resendEmail"}," Email "),r.a.createElement(g.a,{name:"resendEmail",id:"resendEmail",placeholder:"Required",required:"required"})),r.a.createElement(L.a,{row:!0},r.a.createElement("div",{className:"btn-group w-100",role:"group"},r.a.createElement(he.a,{className:"w-100",type:"submit",color:"success"}," Resend Verification Email ")))))))};var Ge=function(e){var a=Object(w.g)(),t=e.setDisplay,l=Object(c.useState)(!1),n=Object(o.a)(l,2),s=n[0],d=n[1],i=Object(c.useState)(!1),m=Object(o.a)(i,2),u=m[0],p=m[1],E=Object(w.h)(),g=Object(c.useCallback)((function(a){e.service.Post("/reset",{token:E.token},(function(e){a&&(d(!0),p(!0),t("none"))}),(function(e){console.log(e),d(!1),p(!0),t("none")}))}),[e.service,t,E.token]);return Object(c.useEffect)((function(){var a=!0;return e.loaded&&a&&g(a),function(){return a=!1}}),[g,e.loaded,a,e.userDetails]),r.a.createElement("div",{className:"d-flex row justify-content-center align-items-center",style:{height:"100vh"}},u&&e.loaded&&s&&r.a.createElement("h1",{className:"bg-dark text-white",style:{borderRadius:"10px 10px 10px 10px",padding:"1rem",color:"black"}}," Password has been reset. Please check your email for your new password "),u&&e.loaded&&!s&&r.a.createElement("div",{className:"bg-dark text-white",style:{borderRadius:"10px 10px 10px 10px",padding:"1rem"}},r.a.createElement("h1",null," Reset Failed. Link has expired "),r.a.createElement("a",{href:"/password"}," Reset Password ")))};var Ae=function(e){var a=Object(w.g)(),t=Object(c.useState)(e.userDetails.firstName),l=Object(o.a)(t,2),n=l[0],s=l[1],d=Object(c.useState)(e.userDetails.lastName),i=Object(o.a)(d,2),m=i[0],f=i[1];return r.a.createElement("div",{className:"account-info-list"},r.a.createElement("div",{className:"accountInformation"},r.a.createElement("div",{className:"account-info-container col"},r.a.createElement("div",{className:"row"},r.a.createElement(u.a,null,r.a.createElement(p.a,{addonType:"prepend"},r.a.createElement(E.a,{className:"bg-dark text-white"}," Email ")),r.a.createElement(g.a,{className:"bg-dark text-white",id:"email",value:e.userDetails.email,disabled:!0})),r.a.createElement(u.a,null,r.a.createElement(p.a,{addonType:"prepend"},r.a.createElement(E.a,{className:"bg-dark text-white"}," Username ")),r.a.createElement(g.a,{className:"bg-dark text-white",id:"username",value:e.userDetails.username,disabled:!0})),r.a.createElement(u.a,null,r.a.createElement(p.a,{addonType:"prepend"},r.a.createElement(E.a,{className:"bg-dark text-white"}," First Name ")),r.a.createElement(g.a,{className:"bg-dark text-white",id:"firstName",value:n,onChange:function(e){s(e.target.value)}})),r.a.createElement(u.a,null,r.a.createElement(p.a,{addonType:"prepend"},r.a.createElement(E.a,{className:"bg-dark text-white"}," Last Name ")),r.a.createElement(g.a,{className:"bg-dark text-white",id:"lastName",value:m,onChange:function(e){f(e.target.value)}})),r.a.createElement(u.a,null,r.a.createElement(p.a,{addonType:"prepend"},r.a.createElement(E.a,{className:"bg-dark text-white"}," Password ")),r.a.createElement(g.a,{className:"bg-dark text-white",type:"password",id:"password",placeholder:"********"})),r.a.createElement(u.a,null,r.a.createElement(p.a,{addonType:"prepend"},r.a.createElement(E.a,{className:"bg-dark text-white"}," Confirm Password ")),r.a.createElement(g.a,{className:"bg-dark text-white",type:"password",id:"confirmPassword",placeholder:"********"})))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col btn-group"},r.a.createElement("button",{type:"button",className:"btn w-100 btn-success",onClick:function(t){t.preventDefault();var c=document.getElementById("firstName").value,r=document.getElementById("lastName").value,l=document.getElementById("password").value,n=document.getElementById("confirmPassword").value;l.length<8&&l.length>0?alert("Password must be at least 8 characters"):l===n?e.service.Update(e.userDetails.email,c,r,l,(function(){e.service.Logout((function(){a.push("/"),e.onNavigate(null)}),(function(e){alert(e)}))}),(function(e){alert(e)})):alert("Passwords must match")}},"Submit")))))};var Ue=function(e){return r.a.createElement("div",{className:"user-profile-list"},r.a.createElement("div",{className:"userProfile"},r.a.createElement("div",{className:"user-profile-container col"},r.a.createElement("div",{className:"dflex flex-row justify-content-center"},r.a.createElement("h2",null," To be added in a future update ")))))};var Ye=function(e){var a=Object(w.g)();return Object(c.useEffect)((function(){e.setPageName("Settings"),e.loaded&&(e.userDetails.username||a.push("/"),e.setDisplay("none"))})),r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row d-flex"},r.a.createElement("div",{className:"col-xl-2 col-md-2 col-sm-12",style:{padding:"0px"}},r.a.createElement("div",{className:"nav nav-pills flex-column",id:"v-pills-tab",role:"tablist","aria-orientation":"vertical"},r.a.createElement("a",{className:"nav-link active",id:"v-pills-accountInformation-tab","data-toggle":"pill",href:"#v-pills-accountInformation",role:"tab","aria-controls":"v-pills-accountInformation","aria-selected":"false"},"Account Information"),r.a.createElement("a",{className:"nav-link",id:"v-pills-profile-tab","data-toggle":"pill",href:"#v-pills-profile",role:"tab","aria-controls":"v-pills-profile","aria-selected":"false"},"Profile"))),r.a.createElement("div",{className:"col-xl-10 col-md-10 col-sm-12",style:{borderLeft:"3px solid black"}},r.a.createElement("div",{className:"tab-content",id:"v-pills-tabContent"},r.a.createElement("div",{className:"tab-pane fade show active",id:"v-pills-accountInformation",role:"tabpanel","aria-labelledby":"v-pills-accountInformation-tab"},r.a.createElement("h1",null," Account Information "),r.a.createElement(Ae,e)),r.a.createElement("div",{className:"tab-pane fade show",id:"v-pills-profile",role:"tabpanel","aria-labelledby":"v-pills-profile-tab"},r.a.createElement("h1",null," Profile Settings "),r.a.createElement(Ue,e))))))};var qe=function(e){var a=Object(w.g)(),t=e.setDisplay,l=Object(c.useState)(!1),n=Object(o.a)(l,2),s=n[0],d=n[1],i=Object(c.useState)(!1),m=Object(o.a)(i,2),u=m[0],p=m[1],E=Object(w.h)(),g=e.setPageName,f=Object(c.useCallback)((function(a){e.service.Post("/confirmation",{token:E.token},(function(e){a&&(d(!0),p(!0),t("none"))}),(function(e){console.log(e),d(!1),p(!0),t("none")}))}),[e.service,t,E.token]);return Object(c.useEffect)((function(){g("Confirmation");var a=!0;return e.loaded&&a&&f(a),function(){return a=!1}}),[f,e.loaded,a,g]),r.a.createElement("div",{className:"d-flex row justify-content-center align-items-center",style:{height:"100vh"}},u&&e.loaded&&s&&r.a.createElement("h1",{className:"bg-dark text-white",style:{borderRadius:"10px 10px 10px 10px",padding:"1rem",color:"black"}},"Email Confirmed"),u&&e.loaded&&!s&&r.a.createElement("div",{className:"bg-dark text-white",style:{borderRadius:"10px 10px 10px 10px",padding:"1rem"}},r.a.createElement("h1",null,"Confirmation Failed. Link has expired"),r.a.createElement("a",{href:"/resend"}," Resend Verification Email ")))};var ze=function(e){var a=Object(w.g)(),t=Object(c.useState)({}),l=Object(o.a)(t,2),n=l[0],s=l[1],i=Object(c.useState)(!1),m=Object(o.a)(i,2),u=m[0],p=m[1],E=Object(c.useState)(!1),g=Object(o.a)(E,2),f=g[0],v=g[1],N=Object(c.useState)([]),k=Object(o.a)(N,2),b=k[0],y=k[1],h=Object(c.useState)(),x=Object(o.a)(h,2),I=x[0],S=x[1],D=Object(c.useState)("block"),T=Object(o.a)(D,2),P=T[0],j=T[1],B=Object(c.useState)("Home"),L=Object(o.a)(B,2),R=L[0],W=L[1],M=Object(c.useCallback)((function(e){S(e)}),[]),V=Object(c.useCallback)((function(){e.service.Authorized?e.service.Get("/users/me",{},(function(e){y(["User Panel"]),"admin"===e[0].role&&v(!0),s(e[0]),p(!0)}),(function(t){e.service.Logout((function(){a.push("/"),M(null)}),(function(e){alert(e)})),s({}),v(!1),y(["Login/Register"]),p(!1)})):(s({}),v(!1),y(["Login/Register"]),p(!0))}),[e.service,M,a]);return Object(c.useEffect)((function(){V()}),[V]),r.a.createElement("div",{className:"App"},r.a.createElement("div",{id:"navigation-wrapper"},r.a.createElement(Ve,{pageName:R,onNavigate:M,rightNav:b,service:e.service,admin:f,onLoginChange:V,userDetails:n})),r.a.createElement("div",{style:{display:P}},r.a.createElement("div",{className:"loader d-flex align-items-center justify-content-center",style:{display:P}},r.a.createElement("img",{className:"loader-spinner",src:d.a,alt:"Loading",style:{display:P}}),r.a.createElement("div",{className:"loader-background",style:{display:P}}))),r.a.createElement("div",{id:"component-wrapper"},r.a.createElement(w.d,null,r.a.createElement(w.b,{path:"/",exact:!0,render:function(){return r.a.createElement(ge,{service:e.service,setDisplay:j,setPageName:W,onNavigate:M})}}),r.a.createElement(w.b,{path:"/admin",render:function(){return r.a.createElement(C,{service:e.service,setDisplay:j,userDetails:n,loaded:u,setPageName:W})}}),r.a.createElement(w.b,{path:"/mydecks",render:function(){return r.a.createElement(ke,{service:e.service,userDetails:n,onNavigate:M,setDisplay:j,loaded:u,setPageName:W})}}),r.a.createElement(w.b,{path:"/carddb",render:function(){return r.a.createElement(O,{service:e.service,setDisplay:j,setPageName:W})}}),r.a.createElement(w.b,{path:"/confirmation/:token",render:function(a){a.match;return r.a.createElement(qe,{service:e.service,setDisplay:j,onNavigate:M,loaded:u,setPageName:W})}}),r.a.createElement(w.b,{path:"/confirmation",render:function(){return r.a.createElement(w.a,{to:"/"})}}),r.a.createElement(w.b,{path:"/deckbuilder",render:function(){return r.a.createElement($,{service:e.service,userDetails:n,onNavigate:M,params:I,setDisplay:j,loaded:u,setPageName:W})}}),r.a.createElement(w.b,{path:"/deckeditor",render:function(a){a.match;return r.a.createElement(de,{service:e.service,userDetails:n,onNavigate:M,params:I,setDisplay:j,loaded:u,setPageName:W})}}),r.a.createElement(w.b,{path:"/deckeditor",render:function(){return r.a.createElement(w.a,{to:"/"})}}),r.a.createElement(w.b,{path:"/deckdb",render:function(){return r.a.createElement(te,{service:e.service,onNavigate:M,setDisplay:j,setPageName:W})}}),r.a.createElement(w.b,{path:"/decklist/:id",render:function(a){a.match;return r.a.createElement(G,{service:e.service,params:I,onNavigate:M,userDetails:n,setDisplay:j,setPageName:W})}}),r.a.createElement(w.b,{path:"/decklist",render:function(){return r.a.createElement(w.a,{to:"/deckdb"})}}),r.a.createElement(w.b,{path:"/password",render:function(){return r.a.createElement(Fe,{service:e.service,setDisplay:j,onNavigate:M,setPageName:W})}}),r.a.createElement(w.b,{path:"/resend",render:function(){return r.a.createElement(Je,{service:e.service,setDisplay:j,onNavigate:M,setPageName:W})}}),r.a.createElement(w.b,{path:"/reset/:token",render:function(a){a.match;return r.a.createElement(Ge,{service:e.service,setDisplay:j,onNavigate:M,loaded:u,setPageName:W})}}),r.a.createElement(w.b,{path:"/reset",render:function(){return r.a.createElement(w.a,{to:"/"})}}),r.a.createElement(w.b,{path:"/settings",render:function(){return r.a.createElement(Ye,{service:e.service,userDetails:n,setDisplay:j,onNavigate:M,onLoginChange:V,loaded:u,setPageName:W})}}),r.a.createElement(w.b,{path:"*",render:function(){return r.a.createElement(w.a,{to:"/"})}}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var _e=t(60),He=t(61),Xe=function(){function e(){Object(_e.a)(this,e)}return Object(He.a)(e,[{key:"ClearCookies",value:function(){for(var e=document.cookie.split(";"),a=0;a<e.length;a++){var t=e[a],c=t.indexOf("="),r=c>-1?t.substr(0,c):t;t+=r+=t+c}}},{key:"GetCookies",value:function(){var e=document.cookie;e=e.split(";");for(var a={},t=0;t<e.length;t++){var c=e[t].split("=");2===c.length&&(a[c[0]]=c[1])}return a}},{key:"PutCookie",value:function(e,a){document.cookie=e+"="+a+"; SameSite=Lax;"}}]),e}(),Ze=t(47),$e=t.n(Ze),Ke=t(288),Qe="//"+$e.a.apiEndPoint.hostname+":"+$e.a.apiEndPoint.port;""!==$e.a.apiEndPoint.routingPrefix&&(Qe+="/"+$e.a.apiEndPoint.routingPrefix);var ea=new(function(){function e(){Object(_e.a)(this,e),this.CookieController=new Xe,this.accesstoken=this.CookieController.GetCookies().accessToken,this.Authorized=!1,this.Logout=this.Logout.bind(this),this.Login=this.Login.bind(this),this.Register=this.Register.bind(this)}return Object(He.a)(e,[{key:"CheckAuthorization",value:function(){this.accesstoken&&(this.Authorized=!0)}},{key:"Logout",value:function(e,a){this.Authorized=!1,window.dispatchEvent(new CustomEvent("_event_onLoginChange"),{detail:{loggedin:!1}}),this.accesstoken="",this.CookieController.PutCookie("accessToken",""),e()}},{key:"Login",value:function(e,a,t,c){var r=this;Ke.post(Qe+"/login",{email:e,password:a}).then((function(e){var a=e.data;r.Authorized=!0,r.accesstoken=a.token,r.CookieController.PutCookie("accessToken",a.token),window.dispatchEvent(new CustomEvent("_event_onLoginChange"),{detail:{loggedin:!0}}),t&&t()})).catch((function(e){r.Authorized=!1,e.response?c&&c("Login Failed: "+e.response.data.message):c&&c("Login Failed")}))}},{key:"Get",value:function(e,a,t,c){Ke.get(Qe+e,{headers:{"X-Access-Token":this.accesstoken},params:a}).then((function(e){t(e.data)})).catch((function(e){e.response?c&&c(e.response.data.message):c&&c("Unexpected Error"+c)}))}},{key:"Post",value:function(e,a,t,c){Ke.post(Qe+e,a,{headers:{"X-Access-Token":this.accesstoken}}).then((function(e){t&&t(e.data.message)})).catch((function(e){e.response?c&&c(e.response.data.message):c&&c("Unexpected Error")}))}},{key:"Register",value:function(e,a,t,c,r,l,n){Ke.post(Qe+"/register",{firstName:t,lastName:c,username:a,email:e,password:r}).then((function(e){l&&l()})).catch((function(e){e.response?n&&n("Registration Failed: "+e.response.data.message):n&&n("Registration Failed")}))}},{key:"Update",value:function(e,a,t,c,r,l){Ke.post(Qe+"/update",{firstName:a,lastName:t,email:e,password:c}).then((function(e){r&&r()})).catch((function(e){e.response?l&&l("Update Failed: "+e.response.data.message):l&&l("Update Failed"+e)}))}}]),e}());ea.CheckAuthorization(),n.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Q.a,null,r.a.createElement(ze,{service:ea}))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},47:function(e,a){e.exports={apiEndPoint:{hostname:"digidecks.net",port:443,routingPrefix:""}}}},[[128,1,2]]]);
//# sourceMappingURL=main.1e4308c0.chunk.js.map